<!DOCTYPE html><html lang="ja"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>YUMEBLOG | Terraformのインストールでやっていることを追う</title><link rel="stylesheet" href="/_astro/_slug_.CRQxL9NI.css"></head> <body class="py-8 sm:py-12 bg-gray-50"> <div class="max-w-4xl mx-auto px-8 sm:px-16"> <header class="text-center border-b border-gray-300 pb-4 mb-6"><h1 class="text-3xl font-bold text-gray-600">Yume Blog</h1></header>  <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="ZVTpkT" prefix="r2" component-url="/_astro/TitleHeader.CwZwICnB.js" component-export="default" renderer-url="/_astro/client.DL-_0xdV.js" props="{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;12-de76a3.md&quot;],&quot;data&quot;:[0,{&quot;isDraft&quot;:[0,false],&quot;title&quot;:[0,&quot;Terraformのインストールでやっていることを追う&quot;],&quot;tags&quot;:[1,[[0,&quot;terraform&quot;],[0,&quot;ubuntu&quot;]]],&quot;publishDate&quot;:[3,&quot;2025-09-12T00:00:00.000Z&quot;]}],&quot;body&quot;:[0,&quot;Terraformのセットアップが必要になり、公式が紹介しているubuntuのインストール方法を見に行ったところ以下のコマンドが掲載されていた。\n\n```sh\nwget -O - https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg\necho \&quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(grep -oP &#39;(?&lt;=UBUNTU_CODENAME=).*&#39; /etc/os-release || lsb_release -cs) main\&quot; | sudo tee /etc/apt/sources.list.d/hashicorp.list\nsudo apt update &amp;&amp; sudo apt install terraform\n```\n\nよく分かってないと思ったので、何をやっているのか追っていこうと思う。\n\n## コマンドの構成\n\n以下の3つのパイプラインに分かれているので、それぞれ順に見ていく。\n\n1つ目\n\n```sh\nwget -O - https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg\n```\n\n2つ目\n\n```sh\necho \&quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(grep -oP &#39;(?&lt;=UBUNTU_CODENAME=).*&#39; /etc/os-release || lsb_release -cs) main\&quot; | sudo tee /etc/apt/sources.list.d/hashicorp.list\n```\n\n3つ目\n\n```sh\nsudo apt update &amp;&amp; sudo apt install terraform\n```\n\n### 1つ目のパイプライン\n\n```sh\nwget -O - https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg\n```\n\n`wget -O -` で指定したURLの内容を標準出力に出す。今回の場合は Hashicorp のGPGキー。\n\nGPGは[RFC 9580](https://www.rfc-editor.org/rfc/rfc9580)で提案されているOpenPGPの実装で、公開鍵暗号または対称暗号アルゴリズムによるディジタル署名、圧縮、キー管理を提供するもの。\n\nこのコマンドでは以下から始まるGPGキーが得られる。\n\n```txt\n-----BEGIN PGP PUBLIC KEY BLOCK-----\n\n```\n\n続いて `gpg` コマンド。\n\n`--dearmor` は入力されたASCIIのGPGキーをバイナリ形式に変換するオプションで、`-o` は結果の出力先。ここで指定されているのはubuntuでの標準的なキーリング置き場。\n\n以上、1つ目のパイプライン。図に表してみる。\n\n```mermaid\ngraph\nwget\nhasi[apt.releases.hashicorp.com/gpg]\nkey[GPGキー]\ngpg\nkeyrings[\&quot;/usr/share/keyrings/hashicorp-archive-keyring.gpg\&quot;]\n\nwget --1.GPGキー取得--&gt; hasi\nwget --2.標準出力--&gt; key\ngpg --3.バイナリ変換--&gt; key\ngpg --4.保存--&gt; keyrings\n```\n\n### 2つ目のパイプライン\n\n```sh\necho \&quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(grep -oP &#39;(?&lt;=UBUNTU_CODENAME=).*&#39; /etc/os-release || lsb_release -cs) main\&quot; | sudo tee /etc/apt/sources.list.d/hashicorp.list\n```\n\nこのパイプラインでは、aptパッケージマネージャが参照する追加のパッケージソース設定を作成している。\n\n一般的な形式は以下\n\n```\ndeb [options] uri suite [component1] [component2] [...]\n```\n\n- deb: バイナリパッケージ\n- [options]: `arch=`, `signed-by=` 等のオプション\n- uri: リポジトリのURL\n- suite: ディストリビューション名\n- component: main, contrib, non-free等のセクション\n\n詳細は `man 5 sources.list` で確認可能。\n\n上記の形式を作るために `echo` を使っている。\n\n2つ目のパイプラインを図に表すと以下。\n\n```mermaid\ngraph\necho\ntee\nkeyrings[\&quot;/usr/share/keyrings/hashicorp-archive-keyring.gpg\&quot;]\nlist[\&quot;/etc/apt/sources.list.d/hashicorp.list\&quot;]\ndpkg[dpkg等]\nrecord[\&quot;deb [options] uri ...\&quot;]\n\necho --1.利用--&gt; keyrings\necho --1.利用--&gt; dpkg\necho --2.標準出力--&gt; record\ntee --3.利用--&gt; record\ntee --4.出力--&gt; list\n```\n\n### 3つ目のパイプライン\n\n```sh\nsudo apt update &amp;&amp; sudo apt install terraform\n```\n\nパッケージをアップデートして terraform をインストールしている...だけだと味気ないので深掘り。\n\nアップデートをする際、前のパイプラインで追加した `hashicorp.list` を見てパッケージ情報の入ったInReleaseファイルを取得する。\nこの中にはパッケージリストのハッシュ値とその署名が含まれているので、それをGPGキーで検証することで、情報が改竄されていないことを確認する。\n\nインストール時も実際のパッケージファイルに対して同様の検証を行っている模様。\n\n図にすると以下。\n\n```mermaid\ngraph\nupdate[apt update]\ninstall[apt install terraform]\nlist[パッケージリスト]\npackage[パッケージ]\nkey[hashicorp-archive-keyring.gpg]\n\nupdate --1.取得--&gt; list\nupdate --2.利用--&gt; key\nupdate --2.検証--&gt; list\ninstall --3.取得--&gt; package\ninstall --4.利用--&gt; key\ninstall --4.検証--&gt; package\n```\n\n## 感想\n\nパッケージマネージャ周りがよく分かっていないと思い知らされた。\n`apt update`, `apt install` 周りはまた調べることにする。&quot;],&quot;filePath&quot;:[0,&quot;src/content/blog/12-de76a3.md&quot;],&quot;digest&quot;:[0,&quot;28a78c9c9f337ff2&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;Terraformのセットアップが必要になり、公式が紹介しているubuntuのインストール方法を見に行ったところ以下のコマンドが掲載されていた。&lt;/p&gt;\n&lt;pre class=\&quot;astro-code github-dark\&quot; style=\&quot;background-color:#24292e;color:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;sh\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;wget&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; -O&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; https://apt.releases.hashicorp.com/gpg&lt;/span&gt;&lt;span style=\&quot;color:#F97583\&quot;&gt; |&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt; sudo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; gpg&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; --dearmor&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; -o&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; /usr/share/keyrings/hashicorp-archive-keyring.gpg&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt;echo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; \&quot;deb [arch=$(&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;dpkg&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; --print-architecture&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt;) signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;grep&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; -oP&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; &#39;(?&amp;#x3C;=UBUNTU_CODENAME=).*&#39; /etc/os-release &lt;/span&gt;&lt;span style=\&quot;color:#F97583\&quot;&gt;||&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt; lsb_release&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; -cs&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt;) main\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#F97583\&quot;&gt; |&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt; sudo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; tee&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; /etc/apt/sources.list.d/hashicorp.list&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;sudo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; apt&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; update&lt;/span&gt;&lt;span style=\&quot;color:#E1E4E8\&quot;&gt; &amp;#x26;&amp;#x26; &lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;sudo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; apt&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; install&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; terraform&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;よく分かってないと思ったので、何をやっているのか追っていこうと思う。&lt;/p&gt;\n&lt;h2 id=\&quot;コマンドの構成\&quot;&gt;コマンドの構成&lt;/h2&gt;\n&lt;p&gt;以下の3つのパイプラインに分かれているので、それぞれ順に見ていく。&lt;/p&gt;\n&lt;p&gt;1つ目&lt;/p&gt;\n&lt;pre class=\&quot;astro-code github-dark\&quot; style=\&quot;background-color:#24292e;color:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;sh\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;wget&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; -O&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; https://apt.releases.hashicorp.com/gpg&lt;/span&gt;&lt;span style=\&quot;color:#F97583\&quot;&gt; |&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt; sudo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; gpg&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; --dearmor&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; -o&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; /usr/share/keyrings/hashicorp-archive-keyring.gpg&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;2つ目&lt;/p&gt;\n&lt;pre class=\&quot;astro-code github-dark\&quot; style=\&quot;background-color:#24292e;color:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;sh\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt;echo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; \&quot;deb [arch=$(&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;dpkg&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; --print-architecture&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt;) signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;grep&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; -oP&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; &#39;(?&amp;#x3C;=UBUNTU_CODENAME=).*&#39; /etc/os-release &lt;/span&gt;&lt;span style=\&quot;color:#F97583\&quot;&gt;||&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt; lsb_release&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; -cs&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt;) main\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#F97583\&quot;&gt; |&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt; sudo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; tee&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; /etc/apt/sources.list.d/hashicorp.list&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;3つ目&lt;/p&gt;\n&lt;pre class=\&quot;astro-code github-dark\&quot; style=\&quot;background-color:#24292e;color:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;sh\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;sudo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; apt&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; update&lt;/span&gt;&lt;span style=\&quot;color:#E1E4E8\&quot;&gt; &amp;#x26;&amp;#x26; &lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;sudo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; apt&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; install&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; terraform&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;1つ目のパイプライン\&quot;&gt;1つ目のパイプライン&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code github-dark\&quot; style=\&quot;background-color:#24292e;color:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;sh\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;wget&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; -O&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; https://apt.releases.hashicorp.com/gpg&lt;/span&gt;&lt;span style=\&quot;color:#F97583\&quot;&gt; |&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt; sudo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; gpg&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; --dearmor&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; -o&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; /usr/share/keyrings/hashicorp-archive-keyring.gpg&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;code&gt;wget -O -&lt;/code&gt; で指定したURLの内容を標準出力に出す。今回の場合は Hashicorp のGPGキー。&lt;/p&gt;\n&lt;p&gt;GPGは&lt;a href=\&quot;https://www.rfc-editor.org/rfc/rfc9580\&quot;&gt;RFC 9580&lt;/a&gt;で提案されているOpenPGPの実装で、公開鍵暗号または対称暗号アルゴリズムによるディジタル署名、圧縮、キー管理を提供するもの。&lt;/p&gt;\n&lt;p&gt;このコマンドでは以下から始まるGPGキーが得られる。&lt;/p&gt;\n&lt;pre class=\&quot;astro-code github-dark\&quot; style=\&quot;background-color:#24292e;color:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;txt\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;-----BEGIN PGP PUBLIC KEY BLOCK-----&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;続いて &lt;code&gt;gpg&lt;/code&gt; コマンド。&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;--dearmor&lt;/code&gt; は入力されたASCIIのGPGキーをバイナリ形式に変換するオプションで、&lt;code&gt;-o&lt;/code&gt; は結果の出力先。ここで指定されているのはubuntuでの標準的なキーリング置き場。&lt;/p&gt;\n&lt;p&gt;以上、1つ目のパイプライン。図に表してみる。&lt;/p&gt;\n&lt;img alt=\&quot;\&quot; height=\&quot;222\&quot; id=\&quot;mermaid-0\&quot; src=\&quot;data:image/svg+xml,%3csvg aria-roledescription=&amp;#x27;flowchart-v2&amp;#x27; role=&amp;#x27;graphics-document document&amp;#x27; viewBox=&amp;#x27;0 0 796.671875 222&amp;#x27; style=&amp;#x27;max-width: 796.671875px%3b&amp;#x27; class=&amp;#x27;flowchart&amp;#x27; xmlns:xlink=&amp;#x27;http://www.w3.org/1999/xlink&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/2000/svg&amp;#x27; width=&amp;#x27;100%25&amp;#x27; id=&amp;#x27;mermaid-0&amp;#x27;%3e%3cstyle%3e%23mermaid-0%7bfont-family:arial%2csans-serif%3bfont-size:16px%3bfill:%23333%3b%7d%40keyframes edge-animation-frame%7bfrom%7bstroke-dashoffset:0%3b%7d%7d%40keyframes dash%7bto%7bstroke-dashoffset:0%3b%7d%7d%23mermaid-0 .edge-animation-slow%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 50s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-0 .edge-animation-fast%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 20s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-0 .error-icon%7bfill:%23552222%3b%7d%23mermaid-0 .error-text%7bfill:%23552222%3bstroke:%23552222%3b%7d%23mermaid-0 .edge-thickness-normal%7bstroke-width:1px%3b%7d%23mermaid-0 .edge-thickness-thick%7bstroke-width:3.5px%3b%7d%23mermaid-0 .edge-pattern-solid%7bstroke-dasharray:0%3b%7d%23mermaid-0 .edge-thickness-invisible%7bstroke-width:0%3bfill:none%3b%7d%23mermaid-0 .edge-pattern-dashed%7bstroke-dasharray:3%3b%7d%23mermaid-0 .edge-pattern-dotted%7bstroke-dasharray:2%3b%7d%23mermaid-0 .marker%7bfill:%23333333%3bstroke:%23333333%3b%7d%23mermaid-0 .marker.cross%7bstroke:%23333333%3b%7d%23mermaid-0 svg%7bfont-family:arial%2csans-serif%3bfont-size:16px%3b%7d%23mermaid-0 p%7bmargin:0%3b%7d%23mermaid-0 .label%7bfont-family:arial%2csans-serif%3bcolor:%23333%3b%7d%23mermaid-0 .cluster-label text%7bfill:%23333%3b%7d%23mermaid-0 .cluster-label span%7bcolor:%23333%3b%7d%23mermaid-0 .cluster-label span p%7bbackground-color:transparent%3b%7d%23mermaid-0 .label text%2c%23mermaid-0 span%7bfill:%23333%3bcolor:%23333%3b%7d%23mermaid-0 .node rect%2c%23mermaid-0 .node circle%2c%23mermaid-0 .node ellipse%2c%23mermaid-0 .node polygon%2c%23mermaid-0 .node path%7bfill:%23ECECFF%3bstroke:%239370DB%3bstroke-width:1px%3b%7d%23mermaid-0 .rough-node .label text%2c%23mermaid-0 .node .label text%2c%23mermaid-0 .image-shape .label%2c%23mermaid-0 .icon-shape .label%7btext-anchor:middle%3b%7d%23mermaid-0 .node .katex path%7bfill:black%3bstroke:black%3bstroke-width:1px%3b%7d%23mermaid-0 .rough-node .label%2c%23mermaid-0 .node .label%2c%23mermaid-0 .image-shape .label%2c%23mermaid-0 .icon-shape .label%7btext-align:center%3b%7d%23mermaid-0 .node.clickable%7bcursor:pointer%3b%7d%23mermaid-0 .root .anchor path%7bfill:%23333333!important%3bstroke-width:0%3bstroke:%23333333%3b%7d%23mermaid-0 .arrowheadPath%7bfill:%23333333%3b%7d%23mermaid-0 .edgePath .path%7bstroke:%23333333%3bstroke-width:2.0px%3b%7d%23mermaid-0 .flowchart-link%7bstroke:%23333333%3bfill:none%3b%7d%23mermaid-0 .edgeLabel%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3btext-align:center%3b%7d%23mermaid-0 .edgeLabel p%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-0 .edgeLabel rect%7bopacity:0.5%3bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bfill:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-0 .labelBkg%7bbackground-color:rgba(232%2c 232%2c 232%2c 0.5)%3b%7d%23mermaid-0 .cluster rect%7bfill:%23ffffde%3bstroke:%23aaaa33%3bstroke-width:1px%3b%7d%23mermaid-0 .cluster text%7bfill:%23333%3b%7d%23mermaid-0 .cluster span%7bcolor:%23333%3b%7d%23mermaid-0 div.mermaidTooltip%7bposition:absolute%3btext-align:center%3bmax-width:200px%3bpadding:2px%3bfont-family:arial%2csans-serif%3bfont-size:12px%3bbackground:hsl(80%2c 100%25%2c 96.2745098039%25)%3bborder:1px solid %23aaaa33%3bborder-radius:2px%3bpointer-events:none%3bz-index:100%3b%7d%23mermaid-0 .flowchartTitleText%7btext-anchor:middle%3bfont-size:18px%3bfill:%23333%3b%7d%23mermaid-0 rect.text%7bfill:none%3bstroke-width:0%3b%7d%23mermaid-0 .icon-shape%2c%23mermaid-0 .image-shape%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3btext-align:center%3b%7d%23mermaid-0 .icon-shape p%2c%23mermaid-0 .image-shape p%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bpadding:2px%3b%7d%23mermaid-0 .icon-shape rect%2c%23mermaid-0 .image-shape rect%7bopacity:0.5%3bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bfill:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-0 .label-icon%7bdisplay:inline-block%3bheight:1em%3boverflow:visible%3bvertical-align:-0.125em%3b%7d%23mermaid-0 .node .label-icon path%7bfill:currentColor%3bstroke:revert%3bstroke-width:revert%3b%7d%23mermaid-0 :root%7b--mermaid-font-family:arial%2csans-serif%3b%7d%3c/style%3e%3cg%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;8&amp;#x27; markerWidth=&amp;#x27;8&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5&amp;#x27; refX=&amp;#x27;5&amp;#x27; viewBox=&amp;#x27;0 0 10 10&amp;#x27; class=&amp;#x27;marker flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-0_flowchart-v2-pointEnd&amp;#x27;%3e%3cpath style=&amp;#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; d=&amp;#x27;M 0 0 L 10 5 L 0 10 z&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;8&amp;#x27; markerWidth=&amp;#x27;8&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5&amp;#x27; refX=&amp;#x27;4.5&amp;#x27; viewBox=&amp;#x27;0 0 10 10&amp;#x27; class=&amp;#x27;marker flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-0_flowchart-v2-pointStart&amp;#x27;%3e%3cpath style=&amp;#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; d=&amp;#x27;M 0 5 L 10 10 L 10 0 z&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;11&amp;#x27; markerWidth=&amp;#x27;11&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5&amp;#x27; refX=&amp;#x27;11&amp;#x27; viewBox=&amp;#x27;0 0 10 10&amp;#x27; class=&amp;#x27;marker flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-0_flowchart-v2-circleEnd&amp;#x27;%3e%3ccircle style=&amp;#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; r=&amp;#x27;5&amp;#x27; cy=&amp;#x27;5&amp;#x27; cx=&amp;#x27;5&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;11&amp;#x27; markerWidth=&amp;#x27;11&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5&amp;#x27; refX=&amp;#x27;-1&amp;#x27; viewBox=&amp;#x27;0 0 10 10&amp;#x27; class=&amp;#x27;marker flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-0_flowchart-v2-circleStart&amp;#x27;%3e%3ccircle style=&amp;#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; r=&amp;#x27;5&amp;#x27; cy=&amp;#x27;5&amp;#x27; cx=&amp;#x27;5&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;11&amp;#x27; markerWidth=&amp;#x27;11&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5.2&amp;#x27; refX=&amp;#x27;12&amp;#x27; viewBox=&amp;#x27;0 0 11 11&amp;#x27; class=&amp;#x27;marker cross flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-0_flowchart-v2-crossEnd&amp;#x27;%3e%3cpath style=&amp;#x27;stroke-width: 2%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; d=&amp;#x27;M 1%2c1 l 9%2c9 M 10%2c1 l -9%2c9&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;11&amp;#x27; markerWidth=&amp;#x27;11&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5.2&amp;#x27; refX=&amp;#x27;-1&amp;#x27; viewBox=&amp;#x27;0 0 11 11&amp;#x27; class=&amp;#x27;marker cross flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-0_flowchart-v2-crossStart&amp;#x27;%3e%3cpath style=&amp;#x27;stroke-width: 2%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; d=&amp;#x27;M 1%2c1 l 9%2c9 M 10%2c1 l -9%2c9&amp;#x27;/%3e%3c/marker%3e%3cg class=&amp;#x27;root&amp;#x27;%3e%3cg class=&amp;#x27;clusters&amp;#x27;/%3e%3cg class=&amp;#x27;edgePaths&amp;#x27;%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-0_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_wget_hasi_0&amp;#x27; d=&amp;#x27;M180.052%2c62L175.276%2c68.167C170.501%2c74.333%2c160.95%2c86.667%2c156.174%2c100.333C151.398%2c114%2c151.398%2c129%2c151.398%2c136.5L151.398%2c144&amp;#x27;/%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-0_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_wget_key_0&amp;#x27; d=&amp;#x27;M247.859%2c58.71L261.141%2c65.425C274.423%2c72.14%2c300.987%2c85.57%2c322.071%2c99.984C343.156%2c114.397%2c358.761%2c129.794%2c366.563%2c137.492L374.366%2c145.191&amp;#x27;/%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-0_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_gpg_key_0&amp;#x27; d=&amp;#x27;M567.492%2c57.471L554.139%2c64.393C540.786%2c71.314%2c514.081%2c85.157%2c492.322%2c99.794C470.563%2c114.432%2c453.751%2c129.863%2c445.345%2c137.579L436.94%2c145.295&amp;#x27;/%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-0_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_gpg_keyrings_0&amp;#x27; d=&amp;#x27;M628.002%2c62L631.921%2c68.167C635.84%2c74.333%2c643.678%2c86.667%2c647.597%2c98.333C651.516%2c110%2c651.516%2c121%2c651.516%2c126.5L651.516%2c132&amp;#x27;/%3e%3c/g%3e%3cg class=&amp;#x27;edgeLabels&amp;#x27;%3e%3cg transform=&amp;#x27;translate(151.3984375%2c 99)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-48.453125%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;96.90625&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e1.GPG%e3%82%ad%e3%83%bc%e5%8f%96%e5%be%97%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(318.8359%2c 94.59402)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-30.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;61.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e2.%e6%a8%99%e6%ba%96%e5%87%ba%e5%8a%9b%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(495.26739%2c 94.90898)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-42.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;85.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e3.%e3%83%90%e3%82%a4%e3%83%8a%e3%83%aa%e5%a4%89%e6%8f%9b%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(651.515625%2c 99)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-18.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;37.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e4.%e4%bf%9d%e5%ad%98%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg class=&amp;#x27;nodes&amp;#x27;%3e%3cg transform=&amp;#x27;translate(200.9609375%2c 35)&amp;#x27; id=&amp;#x27;flowchart-wget-0&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;54&amp;#x27; width=&amp;#x27;93.796875&amp;#x27; y=&amp;#x27;-27&amp;#x27; x=&amp;#x27;-46.8984375&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-16.8984375%2c -12)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;33.796875&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3ewget%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(151.3984375%2c 175)&amp;#x27; id=&amp;#x27;flowchart-hasi-1&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;54&amp;#x27; width=&amp;#x27;286.796875&amp;#x27; y=&amp;#x27;-27&amp;#x27; x=&amp;#x27;-143.3984375&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-113.3984375%2c -12)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;226.796875&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table%3b white-space: break-spaces%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b width: 200px%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3eapt.releases.hashicorp.com/gpg%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(404.578125%2c 175)&amp;#x27; id=&amp;#x27;flowchart-key-2&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;54&amp;#x27; width=&amp;#x27;119.5625&amp;#x27; y=&amp;#x27;-27&amp;#x27; x=&amp;#x27;-59.78125&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-29.78125%2c -12)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;59.5625&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3eGPG%e3%82%ad%e3%83%bc%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(610.84375%2c 35)&amp;#x27; id=&amp;#x27;flowchart-gpg-3&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;54&amp;#x27; width=&amp;#x27;86.703125&amp;#x27; y=&amp;#x27;-27&amp;#x27; x=&amp;#x27;-43.3515625&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-13.3515625%2c -12)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;26.703125&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3egpg%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(651.515625%2c 175)&amp;#x27; id=&amp;#x27;flowchart-keyrings-4&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;78&amp;#x27; width=&amp;#x27;274.3125&amp;#x27; y=&amp;#x27;-39&amp;#x27; x=&amp;#x27;-137.15625&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-107.15625%2c -24)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;48&amp;#x27; width=&amp;#x27;214.3125&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table%3b white-space: break-spaces%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b width: 200px%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3e/usr/share/keyrings/hashicorp-archive-keyring.gpg%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e\&quot; width=\&quot;796.671875\&quot;&gt;\n&lt;h3 id=\&quot;2つ目のパイプライン\&quot;&gt;2つ目のパイプライン&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code github-dark\&quot; style=\&quot;background-color:#24292e;color:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;sh\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt;echo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; \&quot;deb [arch=$(&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;dpkg&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; --print-architecture&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt;) signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;grep&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; -oP&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; &#39;(?&amp;#x3C;=UBUNTU_CODENAME=).*&#39; /etc/os-release &lt;/span&gt;&lt;span style=\&quot;color:#F97583\&quot;&gt;||&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt; lsb_release&lt;/span&gt;&lt;span style=\&quot;color:#79B8FF\&quot;&gt; -cs&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt;) main\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#F97583\&quot;&gt; |&lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt; sudo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; tee&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; /etc/apt/sources.list.d/hashicorp.list&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;このパイプラインでは、aptパッケージマネージャが参照する追加のパッケージソース設定を作成している。&lt;/p&gt;\n&lt;p&gt;一般的な形式は以下&lt;/p&gt;\n&lt;pre class=\&quot;astro-code github-dark\&quot; style=\&quot;background-color:#24292e;color:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;deb [options] uri suite [component1] [component2] [...]&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;deb: バイナリパッケージ&lt;/li&gt;\n&lt;li&gt;[options]: &lt;code&gt;arch=&lt;/code&gt;, &lt;code&gt;signed-by=&lt;/code&gt; 等のオプション&lt;/li&gt;\n&lt;li&gt;uri: リポジトリのURL&lt;/li&gt;\n&lt;li&gt;suite: ディストリビューション名&lt;/li&gt;\n&lt;li&gt;component: main, contrib, non-free等のセクション&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;詳細は &lt;code&gt;man 5 sources.list&lt;/code&gt; で確認可能。&lt;/p&gt;\n&lt;p&gt;上記の形式を作るために &lt;code&gt;echo&lt;/code&gt; を使っている。&lt;/p&gt;\n&lt;p&gt;2つ目のパイプラインを図に表すと以下。&lt;/p&gt;\n&lt;img alt=\&quot;\&quot; height=\&quot;222\&quot; id=\&quot;mermaid-1\&quot; src=\&quot;data:image/svg+xml,%3csvg aria-roledescription=&amp;#x27;flowchart-v2&amp;#x27; role=&amp;#x27;graphics-document document&amp;#x27; viewBox=&amp;#x27;0 0 1046.765625 222&amp;#x27; style=&amp;#x27;max-width: 1046.765625px%3b&amp;#x27; class=&amp;#x27;flowchart&amp;#x27; xmlns:xlink=&amp;#x27;http://www.w3.org/1999/xlink&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/2000/svg&amp;#x27; width=&amp;#x27;100%25&amp;#x27; id=&amp;#x27;mermaid-1&amp;#x27;%3e%3cstyle%3e%23mermaid-1%7bfont-family:arial%2csans-serif%3bfont-size:16px%3bfill:%23333%3b%7d%40keyframes edge-animation-frame%7bfrom%7bstroke-dashoffset:0%3b%7d%7d%40keyframes dash%7bto%7bstroke-dashoffset:0%3b%7d%7d%23mermaid-1 .edge-animation-slow%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 50s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-1 .edge-animation-fast%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 20s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-1 .error-icon%7bfill:%23552222%3b%7d%23mermaid-1 .error-text%7bfill:%23552222%3bstroke:%23552222%3b%7d%23mermaid-1 .edge-thickness-normal%7bstroke-width:1px%3b%7d%23mermaid-1 .edge-thickness-thick%7bstroke-width:3.5px%3b%7d%23mermaid-1 .edge-pattern-solid%7bstroke-dasharray:0%3b%7d%23mermaid-1 .edge-thickness-invisible%7bstroke-width:0%3bfill:none%3b%7d%23mermaid-1 .edge-pattern-dashed%7bstroke-dasharray:3%3b%7d%23mermaid-1 .edge-pattern-dotted%7bstroke-dasharray:2%3b%7d%23mermaid-1 .marker%7bfill:%23333333%3bstroke:%23333333%3b%7d%23mermaid-1 .marker.cross%7bstroke:%23333333%3b%7d%23mermaid-1 svg%7bfont-family:arial%2csans-serif%3bfont-size:16px%3b%7d%23mermaid-1 p%7bmargin:0%3b%7d%23mermaid-1 .label%7bfont-family:arial%2csans-serif%3bcolor:%23333%3b%7d%23mermaid-1 .cluster-label text%7bfill:%23333%3b%7d%23mermaid-1 .cluster-label span%7bcolor:%23333%3b%7d%23mermaid-1 .cluster-label span p%7bbackground-color:transparent%3b%7d%23mermaid-1 .label text%2c%23mermaid-1 span%7bfill:%23333%3bcolor:%23333%3b%7d%23mermaid-1 .node rect%2c%23mermaid-1 .node circle%2c%23mermaid-1 .node ellipse%2c%23mermaid-1 .node polygon%2c%23mermaid-1 .node path%7bfill:%23ECECFF%3bstroke:%239370DB%3bstroke-width:1px%3b%7d%23mermaid-1 .rough-node .label text%2c%23mermaid-1 .node .label text%2c%23mermaid-1 .image-shape .label%2c%23mermaid-1 .icon-shape .label%7btext-anchor:middle%3b%7d%23mermaid-1 .node .katex path%7bfill:black%3bstroke:black%3bstroke-width:1px%3b%7d%23mermaid-1 .rough-node .label%2c%23mermaid-1 .node .label%2c%23mermaid-1 .image-shape .label%2c%23mermaid-1 .icon-shape .label%7btext-align:center%3b%7d%23mermaid-1 .node.clickable%7bcursor:pointer%3b%7d%23mermaid-1 .root .anchor path%7bfill:%23333333!important%3bstroke-width:0%3bstroke:%23333333%3b%7d%23mermaid-1 .arrowheadPath%7bfill:%23333333%3b%7d%23mermaid-1 .edgePath .path%7bstroke:%23333333%3bstroke-width:2.0px%3b%7d%23mermaid-1 .flowchart-link%7bstroke:%23333333%3bfill:none%3b%7d%23mermaid-1 .edgeLabel%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3btext-align:center%3b%7d%23mermaid-1 .edgeLabel p%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-1 .edgeLabel rect%7bopacity:0.5%3bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bfill:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-1 .labelBkg%7bbackground-color:rgba(232%2c 232%2c 232%2c 0.5)%3b%7d%23mermaid-1 .cluster rect%7bfill:%23ffffde%3bstroke:%23aaaa33%3bstroke-width:1px%3b%7d%23mermaid-1 .cluster text%7bfill:%23333%3b%7d%23mermaid-1 .cluster span%7bcolor:%23333%3b%7d%23mermaid-1 div.mermaidTooltip%7bposition:absolute%3btext-align:center%3bmax-width:200px%3bpadding:2px%3bfont-family:arial%2csans-serif%3bfont-size:12px%3bbackground:hsl(80%2c 100%25%2c 96.2745098039%25)%3bborder:1px solid %23aaaa33%3bborder-radius:2px%3bpointer-events:none%3bz-index:100%3b%7d%23mermaid-1 .flowchartTitleText%7btext-anchor:middle%3bfont-size:18px%3bfill:%23333%3b%7d%23mermaid-1 rect.text%7bfill:none%3bstroke-width:0%3b%7d%23mermaid-1 .icon-shape%2c%23mermaid-1 .image-shape%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3btext-align:center%3b%7d%23mermaid-1 .icon-shape p%2c%23mermaid-1 .image-shape p%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bpadding:2px%3b%7d%23mermaid-1 .icon-shape rect%2c%23mermaid-1 .image-shape rect%7bopacity:0.5%3bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bfill:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-1 .label-icon%7bdisplay:inline-block%3bheight:1em%3boverflow:visible%3bvertical-align:-0.125em%3b%7d%23mermaid-1 .node .label-icon path%7bfill:currentColor%3bstroke:revert%3bstroke-width:revert%3b%7d%23mermaid-1 :root%7b--mermaid-font-family:arial%2csans-serif%3b%7d%3c/style%3e%3cg%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;8&amp;#x27; markerWidth=&amp;#x27;8&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5&amp;#x27; refX=&amp;#x27;5&amp;#x27; viewBox=&amp;#x27;0 0 10 10&amp;#x27; class=&amp;#x27;marker flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-1_flowchart-v2-pointEnd&amp;#x27;%3e%3cpath style=&amp;#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; d=&amp;#x27;M 0 0 L 10 5 L 0 10 z&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;8&amp;#x27; markerWidth=&amp;#x27;8&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5&amp;#x27; refX=&amp;#x27;4.5&amp;#x27; viewBox=&amp;#x27;0 0 10 10&amp;#x27; class=&amp;#x27;marker flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-1_flowchart-v2-pointStart&amp;#x27;%3e%3cpath style=&amp;#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; d=&amp;#x27;M 0 5 L 10 10 L 10 0 z&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;11&amp;#x27; markerWidth=&amp;#x27;11&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5&amp;#x27; refX=&amp;#x27;11&amp;#x27; viewBox=&amp;#x27;0 0 10 10&amp;#x27; class=&amp;#x27;marker flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-1_flowchart-v2-circleEnd&amp;#x27;%3e%3ccircle style=&amp;#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; r=&amp;#x27;5&amp;#x27; cy=&amp;#x27;5&amp;#x27; cx=&amp;#x27;5&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;11&amp;#x27; markerWidth=&amp;#x27;11&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5&amp;#x27; refX=&amp;#x27;-1&amp;#x27; viewBox=&amp;#x27;0 0 10 10&amp;#x27; class=&amp;#x27;marker flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-1_flowchart-v2-circleStart&amp;#x27;%3e%3ccircle style=&amp;#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; r=&amp;#x27;5&amp;#x27; cy=&amp;#x27;5&amp;#x27; cx=&amp;#x27;5&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;11&amp;#x27; markerWidth=&amp;#x27;11&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5.2&amp;#x27; refX=&amp;#x27;12&amp;#x27; viewBox=&amp;#x27;0 0 11 11&amp;#x27; class=&amp;#x27;marker cross flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-1_flowchart-v2-crossEnd&amp;#x27;%3e%3cpath style=&amp;#x27;stroke-width: 2%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; d=&amp;#x27;M 1%2c1 l 9%2c9 M 10%2c1 l -9%2c9&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;11&amp;#x27; markerWidth=&amp;#x27;11&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5.2&amp;#x27; refX=&amp;#x27;-1&amp;#x27; viewBox=&amp;#x27;0 0 11 11&amp;#x27; class=&amp;#x27;marker cross flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-1_flowchart-v2-crossStart&amp;#x27;%3e%3cpath style=&amp;#x27;stroke-width: 2%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; d=&amp;#x27;M 1%2c1 l 9%2c9 M 10%2c1 l -9%2c9&amp;#x27;/%3e%3c/marker%3e%3cg class=&amp;#x27;root&amp;#x27;%3e%3cg class=&amp;#x27;clusters&amp;#x27;/%3e%3cg class=&amp;#x27;edgePaths&amp;#x27;%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-1_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_echo_keyrings_0&amp;#x27; d=&amp;#x27;M338.313%2c47.6L306.12%2c56.167C273.927%2c64.734%2c209.542%2c81.867%2c177.349%2c95.933C145.156%2c110%2c145.156%2c121%2c145.156%2c126.5L145.156%2c132&amp;#x27;/%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-1_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_echo_dpkg_0&amp;#x27; d=&amp;#x27;M385.664%2c62L385.664%2c68.167C385.664%2c74.333%2c385.664%2c86.667%2c385.664%2c100.333C385.664%2c114%2c385.664%2c129%2c385.664%2c136.5L385.664%2c144&amp;#x27;/%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-1_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_echo_record_0&amp;#x27; d=&amp;#x27;M433.016%2c57.572L447.5%2c64.477C461.984%2c71.381%2c490.953%2c85.191%2c511.98%2c99.755C533.007%2c114.319%2c546.092%2c129.639%2c552.634%2c137.299L559.176%2c144.958&amp;#x27;/%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-1_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_tee_record_0&amp;#x27; d=&amp;#x27;M814.914%2c52.554L796.779%2c60.295C778.643%2c68.036%2c742.372%2c83.518%2c711.771%2c99.072C681.17%2c114.625%2c656.238%2c130.251%2c643.772%2c138.063L631.307%2c145.876&amp;#x27;/%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-1_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_tee_list_0&amp;#x27; d=&amp;#x27;M868.135%2c62L870.898%2c68.167C873.66%2c74.333%2c879.186%2c86.667%2c881.948%2c100.333C884.711%2c114%2c884.711%2c129%2c884.711%2c136.5L884.711%2c144&amp;#x27;/%3e%3c/g%3e%3cg class=&amp;#x27;edgeLabels&amp;#x27;%3e%3cg transform=&amp;#x27;translate(145.15625%2c 99)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-18.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;37.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e1.%e5%88%a9%e7%94%a8%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(385.6640625%2c 99)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-18.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;37.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e1.%e5%88%a9%e7%94%a8%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(505.55363%2c 92.15073)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-30.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;61.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e2.%e6%a8%99%e6%ba%96%e5%87%ba%e5%8a%9b%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(706.1015625%2c 99)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-18.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;37.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e3.%e5%88%a9%e7%94%a8%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(884.7109375%2c 99)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-18.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;37.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e4.%e5%87%ba%e5%8a%9b%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg class=&amp;#x27;nodes&amp;#x27;%3e%3cg transform=&amp;#x27;translate(385.6640625%2c 35)&amp;#x27; id=&amp;#x27;flowchart-echo-0&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;54&amp;#x27; width=&amp;#x27;94.703125&amp;#x27; y=&amp;#x27;-27&amp;#x27; x=&amp;#x27;-47.3515625&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-17.3515625%2c -12)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;34.703125&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3eecho%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(856.0390625%2c 35)&amp;#x27; id=&amp;#x27;flowchart-tee-1&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;54&amp;#x27; width=&amp;#x27;82.25&amp;#x27; y=&amp;#x27;-27&amp;#x27; x=&amp;#x27;-41.125&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-11.125%2c -12)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;22.25&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3etee%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(145.15625%2c 175)&amp;#x27; id=&amp;#x27;flowchart-keyrings-2&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;78&amp;#x27; width=&amp;#x27;274.3125&amp;#x27; y=&amp;#x27;-39&amp;#x27; x=&amp;#x27;-137.15625&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-107.15625%2c -24)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;48&amp;#x27; width=&amp;#x27;214.3125&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table%3b white-space: break-spaces%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b width: 200px%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3e/usr/share/keyrings/hashicorp-archive-keyring.gpg%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(884.7109375%2c 175)&amp;#x27; id=&amp;#x27;flowchart-list-3&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;54&amp;#x27; width=&amp;#x27;308.109375&amp;#x27; y=&amp;#x27;-27&amp;#x27; x=&amp;#x27;-154.0546875&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-124.0546875%2c -12)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;248.109375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table%3b white-space: break-spaces%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b width: 200px%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3e/etc/apt/sources.list.d/hashicorp.list%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(385.6640625%2c 175)&amp;#x27; id=&amp;#x27;flowchart-dpkg-4&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;54&amp;#x27; width=&amp;#x27;106.703125&amp;#x27; y=&amp;#x27;-27&amp;#x27; x=&amp;#x27;-53.3515625&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-23.3515625%2c -12)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;46.703125&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3edpkg%e7%ad%89%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(584.8359375%2c 175)&amp;#x27; id=&amp;#x27;flowchart-record-5&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;54&amp;#x27; width=&amp;#x27;191.640625&amp;#x27; y=&amp;#x27;-27&amp;#x27; x=&amp;#x27;-95.8203125&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-65.8203125%2c -12)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;131.640625&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3edeb %5boptions%5d uri ...%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e\&quot; width=\&quot;1046.765625\&quot;&gt;\n&lt;h3 id=\&quot;3つ目のパイプライン\&quot;&gt;3つ目のパイプライン&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code github-dark\&quot; style=\&quot;background-color:#24292e;color:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;sh\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;sudo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; apt&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; update&lt;/span&gt;&lt;span style=\&quot;color:#E1E4E8\&quot;&gt; &amp;#x26;&amp;#x26; &lt;/span&gt;&lt;span style=\&quot;color:#B392F0\&quot;&gt;sudo&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; apt&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; install&lt;/span&gt;&lt;span style=\&quot;color:#9ECBFF\&quot;&gt; terraform&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;パッケージをアップデートして terraform をインストールしている…だけだと味気ないので深掘り。&lt;/p&gt;\n&lt;p&gt;アップデートをする際、前のパイプラインで追加した &lt;code&gt;hashicorp.list&lt;/code&gt; を見てパッケージ情報の入ったInReleaseファイルを取得する。\nこの中にはパッケージリストのハッシュ値とその署名が含まれているので、それをGPGキーで検証することで、情報が改竄されていないことを確認する。&lt;/p&gt;\n&lt;p&gt;インストール時も実際のパッケージファイルに対して同様の検証を行っている模様。&lt;/p&gt;\n&lt;p&gt;図にすると以下。&lt;/p&gt;\n&lt;img alt=\&quot;\&quot; height=\&quot;222\&quot; id=\&quot;mermaid-2\&quot; src=\&quot;data:image/svg+xml,%3csvg aria-roledescription=&amp;#x27;flowchart-v2&amp;#x27; role=&amp;#x27;graphics-document document&amp;#x27; viewBox=&amp;#x27;0 0 652 222&amp;#x27; style=&amp;#x27;max-width: 652px%3b&amp;#x27; class=&amp;#x27;flowchart&amp;#x27; xmlns:xlink=&amp;#x27;http://www.w3.org/1999/xlink&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/2000/svg&amp;#x27; width=&amp;#x27;100%25&amp;#x27; id=&amp;#x27;mermaid-2&amp;#x27;%3e%3cstyle%3e%23mermaid-2%7bfont-family:arial%2csans-serif%3bfont-size:16px%3bfill:%23333%3b%7d%40keyframes edge-animation-frame%7bfrom%7bstroke-dashoffset:0%3b%7d%7d%40keyframes dash%7bto%7bstroke-dashoffset:0%3b%7d%7d%23mermaid-2 .edge-animation-slow%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 50s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-2 .edge-animation-fast%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 20s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-2 .error-icon%7bfill:%23552222%3b%7d%23mermaid-2 .error-text%7bfill:%23552222%3bstroke:%23552222%3b%7d%23mermaid-2 .edge-thickness-normal%7bstroke-width:1px%3b%7d%23mermaid-2 .edge-thickness-thick%7bstroke-width:3.5px%3b%7d%23mermaid-2 .edge-pattern-solid%7bstroke-dasharray:0%3b%7d%23mermaid-2 .edge-thickness-invisible%7bstroke-width:0%3bfill:none%3b%7d%23mermaid-2 .edge-pattern-dashed%7bstroke-dasharray:3%3b%7d%23mermaid-2 .edge-pattern-dotted%7bstroke-dasharray:2%3b%7d%23mermaid-2 .marker%7bfill:%23333333%3bstroke:%23333333%3b%7d%23mermaid-2 .marker.cross%7bstroke:%23333333%3b%7d%23mermaid-2 svg%7bfont-family:arial%2csans-serif%3bfont-size:16px%3b%7d%23mermaid-2 p%7bmargin:0%3b%7d%23mermaid-2 .label%7bfont-family:arial%2csans-serif%3bcolor:%23333%3b%7d%23mermaid-2 .cluster-label text%7bfill:%23333%3b%7d%23mermaid-2 .cluster-label span%7bcolor:%23333%3b%7d%23mermaid-2 .cluster-label span p%7bbackground-color:transparent%3b%7d%23mermaid-2 .label text%2c%23mermaid-2 span%7bfill:%23333%3bcolor:%23333%3b%7d%23mermaid-2 .node rect%2c%23mermaid-2 .node circle%2c%23mermaid-2 .node ellipse%2c%23mermaid-2 .node polygon%2c%23mermaid-2 .node path%7bfill:%23ECECFF%3bstroke:%239370DB%3bstroke-width:1px%3b%7d%23mermaid-2 .rough-node .label text%2c%23mermaid-2 .node .label text%2c%23mermaid-2 .image-shape .label%2c%23mermaid-2 .icon-shape .label%7btext-anchor:middle%3b%7d%23mermaid-2 .node .katex path%7bfill:black%3bstroke:black%3bstroke-width:1px%3b%7d%23mermaid-2 .rough-node .label%2c%23mermaid-2 .node .label%2c%23mermaid-2 .image-shape .label%2c%23mermaid-2 .icon-shape .label%7btext-align:center%3b%7d%23mermaid-2 .node.clickable%7bcursor:pointer%3b%7d%23mermaid-2 .root .anchor path%7bfill:%23333333!important%3bstroke-width:0%3bstroke:%23333333%3b%7d%23mermaid-2 .arrowheadPath%7bfill:%23333333%3b%7d%23mermaid-2 .edgePath .path%7bstroke:%23333333%3bstroke-width:2.0px%3b%7d%23mermaid-2 .flowchart-link%7bstroke:%23333333%3bfill:none%3b%7d%23mermaid-2 .edgeLabel%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3btext-align:center%3b%7d%23mermaid-2 .edgeLabel p%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-2 .edgeLabel rect%7bopacity:0.5%3bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bfill:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-2 .labelBkg%7bbackground-color:rgba(232%2c 232%2c 232%2c 0.5)%3b%7d%23mermaid-2 .cluster rect%7bfill:%23ffffde%3bstroke:%23aaaa33%3bstroke-width:1px%3b%7d%23mermaid-2 .cluster text%7bfill:%23333%3b%7d%23mermaid-2 .cluster span%7bcolor:%23333%3b%7d%23mermaid-2 div.mermaidTooltip%7bposition:absolute%3btext-align:center%3bmax-width:200px%3bpadding:2px%3bfont-family:arial%2csans-serif%3bfont-size:12px%3bbackground:hsl(80%2c 100%25%2c 96.2745098039%25)%3bborder:1px solid %23aaaa33%3bborder-radius:2px%3bpointer-events:none%3bz-index:100%3b%7d%23mermaid-2 .flowchartTitleText%7btext-anchor:middle%3bfont-size:18px%3bfill:%23333%3b%7d%23mermaid-2 rect.text%7bfill:none%3bstroke-width:0%3b%7d%23mermaid-2 .icon-shape%2c%23mermaid-2 .image-shape%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3btext-align:center%3b%7d%23mermaid-2 .icon-shape p%2c%23mermaid-2 .image-shape p%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bpadding:2px%3b%7d%23mermaid-2 .icon-shape rect%2c%23mermaid-2 .image-shape rect%7bopacity:0.5%3bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bfill:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-2 .label-icon%7bdisplay:inline-block%3bheight:1em%3boverflow:visible%3bvertical-align:-0.125em%3b%7d%23mermaid-2 .node .label-icon path%7bfill:currentColor%3bstroke:revert%3bstroke-width:revert%3b%7d%23mermaid-2 :root%7b--mermaid-font-family:arial%2csans-serif%3b%7d%3c/style%3e%3cg%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;8&amp;#x27; markerWidth=&amp;#x27;8&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5&amp;#x27; refX=&amp;#x27;5&amp;#x27; viewBox=&amp;#x27;0 0 10 10&amp;#x27; class=&amp;#x27;marker flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-2_flowchart-v2-pointEnd&amp;#x27;%3e%3cpath style=&amp;#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; d=&amp;#x27;M 0 0 L 10 5 L 0 10 z&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;8&amp;#x27; markerWidth=&amp;#x27;8&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5&amp;#x27; refX=&amp;#x27;4.5&amp;#x27; viewBox=&amp;#x27;0 0 10 10&amp;#x27; class=&amp;#x27;marker flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-2_flowchart-v2-pointStart&amp;#x27;%3e%3cpath style=&amp;#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; d=&amp;#x27;M 0 5 L 10 10 L 10 0 z&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;11&amp;#x27; markerWidth=&amp;#x27;11&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5&amp;#x27; refX=&amp;#x27;11&amp;#x27; viewBox=&amp;#x27;0 0 10 10&amp;#x27; class=&amp;#x27;marker flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-2_flowchart-v2-circleEnd&amp;#x27;%3e%3ccircle style=&amp;#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; r=&amp;#x27;5&amp;#x27; cy=&amp;#x27;5&amp;#x27; cx=&amp;#x27;5&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;11&amp;#x27; markerWidth=&amp;#x27;11&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5&amp;#x27; refX=&amp;#x27;-1&amp;#x27; viewBox=&amp;#x27;0 0 10 10&amp;#x27; class=&amp;#x27;marker flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-2_flowchart-v2-circleStart&amp;#x27;%3e%3ccircle style=&amp;#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; r=&amp;#x27;5&amp;#x27; cy=&amp;#x27;5&amp;#x27; cx=&amp;#x27;5&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;11&amp;#x27; markerWidth=&amp;#x27;11&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5.2&amp;#x27; refX=&amp;#x27;12&amp;#x27; viewBox=&amp;#x27;0 0 11 11&amp;#x27; class=&amp;#x27;marker cross flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-2_flowchart-v2-crossEnd&amp;#x27;%3e%3cpath style=&amp;#x27;stroke-width: 2%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; d=&amp;#x27;M 1%2c1 l 9%2c9 M 10%2c1 l -9%2c9&amp;#x27;/%3e%3c/marker%3e%3cmarker orient=&amp;#x27;auto&amp;#x27; markerHeight=&amp;#x27;11&amp;#x27; markerWidth=&amp;#x27;11&amp;#x27; markerUnits=&amp;#x27;userSpaceOnUse&amp;#x27; refY=&amp;#x27;5.2&amp;#x27; refX=&amp;#x27;-1&amp;#x27; viewBox=&amp;#x27;0 0 11 11&amp;#x27; class=&amp;#x27;marker cross flowchart-v2&amp;#x27; id=&amp;#x27;mermaid-2_flowchart-v2-crossStart&amp;#x27;%3e%3cpath style=&amp;#x27;stroke-width: 2%3b stroke-dasharray: 1%2c 0%3b&amp;#x27; class=&amp;#x27;arrowMarkerPath&amp;#x27; d=&amp;#x27;M 1%2c1 l 9%2c9 M 10%2c1 l -9%2c9&amp;#x27;/%3e%3c/marker%3e%3cg class=&amp;#x27;root&amp;#x27;%3e%3cg class=&amp;#x27;clusters&amp;#x27;/%3e%3cg class=&amp;#x27;edgePaths&amp;#x27;%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-2_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_update_list_0&amp;#x27; d=&amp;#x27;M107.056%2c62L98.768%2c68.167C90.48%2c74.333%2c73.904%2c86.667%2c68.462%2c100.376C63.019%2c114.086%2c68.711%2c129.172%2c71.556%2c136.715L74.402%2c144.257&amp;#x27;/%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-2_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_update_key_0&amp;#x27; d=&amp;#x27;M185.67%2c62L195.337%2c68.167C205.004%2c74.333%2c224.338%2c86.667%2c241.614%2c98.597C258.89%2c110.528%2c274.109%2c122.056%2c281.718%2c127.821L289.327%2c133.585&amp;#x27;/%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-2_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_update_list_2&amp;#x27; d=&amp;#x27;M161.478%2c62L165.62%2c68.167C169.761%2c74.333%2c178.045%2c86.667%2c171.937%2c100.597C165.829%2c114.528%2c145.33%2c130.056%2c135.081%2c137.821L124.831%2c145.585&amp;#x27;/%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-2_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_install_package_0&amp;#x27; d=&amp;#x27;M512.319%2c62L509.045%2c68.167C505.77%2c74.333%2c499.221%2c86.667%2c505.248%2c100.574C511.275%2c114.48%2c529.877%2c129.961%2c539.179%2c137.701L548.48%2c145.441&amp;#x27;/%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-2_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_install_key_0&amp;#x27; d=&amp;#x27;M488.127%2c62L479.327%2c68.167C470.528%2c74.333%2c452.928%2c86.667%2c437.23%2c98.574C421.532%2c110.48%2c407.736%2c121.961%2c400.838%2c127.701L393.94%2c133.441&amp;#x27;/%3e%3cpath marker-end=&amp;#x27;url(%23mermaid-2_flowchart-v2-pointEnd)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&amp;#x27; id=&amp;#x27;L_install_package_2&amp;#x27; d=&amp;#x27;M562.944%2c62L571.232%2c68.167C579.52%2c74.333%2c596.096%2c86.667%2c601.538%2c100.376C606.981%2c114.086%2c601.289%2c129.172%2c598.444%2c136.715L595.598%2c144.257&amp;#x27;/%3e%3c/g%3e%3cg class=&amp;#x27;edgeLabels&amp;#x27;%3e%3cg transform=&amp;#x27;translate(57.328125%2c 99)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-18.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;37.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e1.%e5%8f%96%e5%be%97%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(243.671875%2c 99)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-18.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;37.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e2.%e5%88%a9%e7%94%a8%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(171.74947%2c 110.04354)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-18.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;37.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e2.%e6%a4%9c%e8%a8%bc%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(492.671875%2c 99)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-18.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;37.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e3.%e5%8f%96%e5%be%97%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(435.328125%2c 99)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-18.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;37.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e4.%e5%88%a9%e7%94%a8%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(608.81624%2c 96.13121)&amp;#x27; class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cg transform=&amp;#x27;translate(-18.671875%2c -12)&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;37.34375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; class=&amp;#x27;labelBkg&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;edgeLabel&amp;#x27;%3e%3cp%3e4.%e6%a4%9c%e8%a8%bc%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg class=&amp;#x27;nodes&amp;#x27;%3e%3cg transform=&amp;#x27;translate(143.34375%2c 35)&amp;#x27; id=&amp;#x27;flowchart-update-0&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;54&amp;#x27; width=&amp;#x27;135.625&amp;#x27; y=&amp;#x27;-27&amp;#x27; x=&amp;#x27;-67.8125&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-37.8125%2c -12)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;75.625&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3eapt update%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(526.65625%2c 35)&amp;#x27; id=&amp;#x27;flowchart-install-1&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;54&amp;#x27; width=&amp;#x27;196.9375&amp;#x27; y=&amp;#x27;-27&amp;#x27; x=&amp;#x27;-98.46875&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-68.46875%2c -12)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;136.9375&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3eapt install terraform%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(86%2c 175)&amp;#x27; id=&amp;#x27;flowchart-list-2&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;54&amp;#x27; width=&amp;#x27;156&amp;#x27; y=&amp;#x27;-27&amp;#x27; x=&amp;#x27;-78&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-48%2c -12)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;96&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3e%e3%83%91%e3%83%83%e3%82%b1%e3%83%bc%e3%82%b8%e3%83%aa%e3%82%b9%e3%83%88%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(584%2c 175)&amp;#x27; id=&amp;#x27;flowchart-package-3&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;54&amp;#x27; width=&amp;#x27;120&amp;#x27; y=&amp;#x27;-27&amp;#x27; x=&amp;#x27;-60&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-30%2c -12)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;24&amp;#x27; width=&amp;#x27;60&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3e%e3%83%91%e3%83%83%e3%82%b1%e3%83%bc%e3%82%b8%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&amp;#x27;translate(344%2c 175)&amp;#x27; id=&amp;#x27;flowchart-key-4&amp;#x27; class=&amp;#x27;node default&amp;#x27;%3e%3crect height=&amp;#x27;78&amp;#x27; width=&amp;#x27;260&amp;#x27; y=&amp;#x27;-39&amp;#x27; x=&amp;#x27;-130&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;basic label-container&amp;#x27;/%3e%3cg transform=&amp;#x27;translate(-100%2c -24)&amp;#x27; style=&amp;#x27;&amp;#x27; class=&amp;#x27;label&amp;#x27;%3e%3crect/%3e%3cforeignObject height=&amp;#x27;48&amp;#x27; width=&amp;#x27;200&amp;#x27;%3e%3cdiv style=&amp;#x27;display: table%3b white-space: break-spaces%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b width: 200px%3b&amp;#x27; xmlns=&amp;#x27;http://www.w3.org/1999/xhtml&amp;#x27;%3e%3cspan class=&amp;#x27;nodeLabel&amp;#x27;%3e%3cp%3ehashicorp-archive-keyring.gpg%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e\&quot; width=\&quot;652\&quot;&gt;\n&lt;h2 id=\&quot;感想\&quot;&gt;感想&lt;/h2&gt;\n&lt;p&gt;パッケージマネージャ周りがよく分かっていないと思い知らされた。\n&lt;code&gt;apt update&lt;/code&gt;, &lt;code&gt;apt install&lt;/code&gt; 周りはまた調べることにする。&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;コマンドの構成&quot;],&quot;text&quot;:[0,&quot;コマンドの構成&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;1つ目のパイプライン&quot;],&quot;text&quot;:[0,&quot;1つ目のパイプライン&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;2つ目のパイプライン&quot;],&quot;text&quot;:[0,&quot;2つ目のパイプライン&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;3つ目のパイプライン&quot;],&quot;text&quot;:[0,&quot;3つ目のパイプライン&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;感想&quot;],&quot;text&quot;:[0,&quot;感想&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Terraformのインストールでやっていることを追う&quot;],&quot;tags&quot;:[1,[[0,&quot;terraform&quot;],[0,&quot;ubuntu&quot;]]],&quot;publishDate&quot;:[3,&quot;2025-09-12T00:00:00.000Z&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;],&quot;slug&quot;:[0,&quot;12-de76a3&quot;],&quot;render&quot;:[0,null]}]}" ssr client="load" opts="{&quot;name&quot;:&quot;TitleHeader&quot;,&quot;value&quot;:true}" await-children><div class="grid grid-cols-1 sm:grid-cols-[1fr_auto] sm:gap-4 items-baseline"><div class="flex items-center gap-4 min-w-0"><div class="hidden sm:block"><button class="rounded-lg flex items-center text-gray-700 hover:text-gray-800 transition-colors duration-200 hover:bg-gray-100 p-1 group cursor-pointer"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="transition-all duration-200"><path d="M19 12H5M12 19L5 12L12 5" stroke-linecap="round" stroke-linejoin="round" fill="none"></path></svg></button></div><h2 class="text-2xl font-bold text-gray-700 min-w-0">Terraformのインストールでやっていることを追う</h2></div><div class="justify-self-end"><div class="flex gap-2"><span class="text-sm text-gray-500">公開日:</span><time class="text-sm text-gray-500">2025年9月12日</time></div></div></div><!--astro:end--></astro-island> <div class="mt-4 prose max-w-none"> <p>Terraformのセットアップが必要になり、公式が紹介しているubuntuのインストール方法を見に行ったところ以下のコマンドが掲載されていた。</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#B392F0">wget</span><span style="color:#79B8FF"> -O</span><span style="color:#9ECBFF"> -</span><span style="color:#9ECBFF"> https://apt.releases.hashicorp.com/gpg</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> sudo</span><span style="color:#9ECBFF"> gpg</span><span style="color:#79B8FF"> --dearmor</span><span style="color:#79B8FF"> -o</span><span style="color:#9ECBFF"> /usr/share/keyrings/hashicorp-archive-keyring.gpg</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "deb [arch=$(</span><span style="color:#B392F0">dpkg</span><span style="color:#79B8FF"> --print-architecture</span><span style="color:#9ECBFF">) signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(</span><span style="color:#B392F0">grep</span><span style="color:#79B8FF"> -oP</span><span style="color:#9ECBFF"> '(?&#x3C;=UBUNTU_CODENAME=).*' /etc/os-release </span><span style="color:#F97583">||</span><span style="color:#B392F0"> lsb_release</span><span style="color:#79B8FF"> -cs</span><span style="color:#9ECBFF">) main"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> sudo</span><span style="color:#9ECBFF"> tee</span><span style="color:#9ECBFF"> /etc/apt/sources.list.d/hashicorp.list</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt</span><span style="color:#9ECBFF"> update</span><span style="color:#E1E4E8"> &#x26;&#x26; </span><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> terraform</span></span></code></pre>
<p>よく分かってないと思ったので、何をやっているのか追っていこうと思う。</p>
<h2 id="コマンドの構成">コマンドの構成</h2>
<p>以下の3つのパイプラインに分かれているので、それぞれ順に見ていく。</p>
<p>1つ目</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#B392F0">wget</span><span style="color:#79B8FF"> -O</span><span style="color:#9ECBFF"> -</span><span style="color:#9ECBFF"> https://apt.releases.hashicorp.com/gpg</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> sudo</span><span style="color:#9ECBFF"> gpg</span><span style="color:#79B8FF"> --dearmor</span><span style="color:#79B8FF"> -o</span><span style="color:#9ECBFF"> /usr/share/keyrings/hashicorp-archive-keyring.gpg</span></span></code></pre>
<p>2つ目</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "deb [arch=$(</span><span style="color:#B392F0">dpkg</span><span style="color:#79B8FF"> --print-architecture</span><span style="color:#9ECBFF">) signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(</span><span style="color:#B392F0">grep</span><span style="color:#79B8FF"> -oP</span><span style="color:#9ECBFF"> '(?&#x3C;=UBUNTU_CODENAME=).*' /etc/os-release </span><span style="color:#F97583">||</span><span style="color:#B392F0"> lsb_release</span><span style="color:#79B8FF"> -cs</span><span style="color:#9ECBFF">) main"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> sudo</span><span style="color:#9ECBFF"> tee</span><span style="color:#9ECBFF"> /etc/apt/sources.list.d/hashicorp.list</span></span></code></pre>
<p>3つ目</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt</span><span style="color:#9ECBFF"> update</span><span style="color:#E1E4E8"> &#x26;&#x26; </span><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> terraform</span></span></code></pre>
<h3 id="1つ目のパイプライン">1つ目のパイプライン</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#B392F0">wget</span><span style="color:#79B8FF"> -O</span><span style="color:#9ECBFF"> -</span><span style="color:#9ECBFF"> https://apt.releases.hashicorp.com/gpg</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> sudo</span><span style="color:#9ECBFF"> gpg</span><span style="color:#79B8FF"> --dearmor</span><span style="color:#79B8FF"> -o</span><span style="color:#9ECBFF"> /usr/share/keyrings/hashicorp-archive-keyring.gpg</span></span></code></pre>
<p><code>wget -O -</code> で指定したURLの内容を標準出力に出す。今回の場合は Hashicorp のGPGキー。</p>
<p>GPGは<a href="https://www.rfc-editor.org/rfc/rfc9580">RFC 9580</a>で提案されているOpenPGPの実装で、公開鍵暗号または対称暗号アルゴリズムによるディジタル署名、圧縮、キー管理を提供するもの。</p>
<p>このコマンドでは以下から始まるGPGキーが得られる。</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="txt"><code><span class="line"><span>-----BEGIN PGP PUBLIC KEY BLOCK-----</span></span>
<span class="line"><span></span></span></code></pre>
<p>続いて <code>gpg</code> コマンド。</p>
<p><code>--dearmor</code> は入力されたASCIIのGPGキーをバイナリ形式に変換するオプションで、<code>-o</code> は結果の出力先。ここで指定されているのはubuntuでの標準的なキーリング置き場。</p>
<p>以上、1つ目のパイプライン。図に表してみる。</p>
<img alt="" height="222" id="mermaid-0" src="data:image/svg+xml,%3csvg aria-roledescription=&#x27;flowchart-v2&#x27; role=&#x27;graphics-document document&#x27; viewBox=&#x27;0 0 796.671875 222&#x27; style=&#x27;max-width: 796.671875px%3b&#x27; class=&#x27;flowchart&#x27; xmlns:xlink=&#x27;http://www.w3.org/1999/xlink&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; width=&#x27;100%25&#x27; id=&#x27;mermaid-0&#x27;%3e%3cstyle%3e%23mermaid-0%7bfont-family:arial%2csans-serif%3bfont-size:16px%3bfill:%23333%3b%7d%40keyframes edge-animation-frame%7bfrom%7bstroke-dashoffset:0%3b%7d%7d%40keyframes dash%7bto%7bstroke-dashoffset:0%3b%7d%7d%23mermaid-0 .edge-animation-slow%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 50s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-0 .edge-animation-fast%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 20s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-0 .error-icon%7bfill:%23552222%3b%7d%23mermaid-0 .error-text%7bfill:%23552222%3bstroke:%23552222%3b%7d%23mermaid-0 .edge-thickness-normal%7bstroke-width:1px%3b%7d%23mermaid-0 .edge-thickness-thick%7bstroke-width:3.5px%3b%7d%23mermaid-0 .edge-pattern-solid%7bstroke-dasharray:0%3b%7d%23mermaid-0 .edge-thickness-invisible%7bstroke-width:0%3bfill:none%3b%7d%23mermaid-0 .edge-pattern-dashed%7bstroke-dasharray:3%3b%7d%23mermaid-0 .edge-pattern-dotted%7bstroke-dasharray:2%3b%7d%23mermaid-0 .marker%7bfill:%23333333%3bstroke:%23333333%3b%7d%23mermaid-0 .marker.cross%7bstroke:%23333333%3b%7d%23mermaid-0 svg%7bfont-family:arial%2csans-serif%3bfont-size:16px%3b%7d%23mermaid-0 p%7bmargin:0%3b%7d%23mermaid-0 .label%7bfont-family:arial%2csans-serif%3bcolor:%23333%3b%7d%23mermaid-0 .cluster-label text%7bfill:%23333%3b%7d%23mermaid-0 .cluster-label span%7bcolor:%23333%3b%7d%23mermaid-0 .cluster-label span p%7bbackground-color:transparent%3b%7d%23mermaid-0 .label text%2c%23mermaid-0 span%7bfill:%23333%3bcolor:%23333%3b%7d%23mermaid-0 .node rect%2c%23mermaid-0 .node circle%2c%23mermaid-0 .node ellipse%2c%23mermaid-0 .node polygon%2c%23mermaid-0 .node path%7bfill:%23ECECFF%3bstroke:%239370DB%3bstroke-width:1px%3b%7d%23mermaid-0 .rough-node .label text%2c%23mermaid-0 .node .label text%2c%23mermaid-0 .image-shape .label%2c%23mermaid-0 .icon-shape .label%7btext-anchor:middle%3b%7d%23mermaid-0 .node .katex path%7bfill:black%3bstroke:black%3bstroke-width:1px%3b%7d%23mermaid-0 .rough-node .label%2c%23mermaid-0 .node .label%2c%23mermaid-0 .image-shape .label%2c%23mermaid-0 .icon-shape .label%7btext-align:center%3b%7d%23mermaid-0 .node.clickable%7bcursor:pointer%3b%7d%23mermaid-0 .root .anchor path%7bfill:%23333333!important%3bstroke-width:0%3bstroke:%23333333%3b%7d%23mermaid-0 .arrowheadPath%7bfill:%23333333%3b%7d%23mermaid-0 .edgePath .path%7bstroke:%23333333%3bstroke-width:2.0px%3b%7d%23mermaid-0 .flowchart-link%7bstroke:%23333333%3bfill:none%3b%7d%23mermaid-0 .edgeLabel%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3btext-align:center%3b%7d%23mermaid-0 .edgeLabel p%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-0 .edgeLabel rect%7bopacity:0.5%3bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bfill:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-0 .labelBkg%7bbackground-color:rgba(232%2c 232%2c 232%2c 0.5)%3b%7d%23mermaid-0 .cluster rect%7bfill:%23ffffde%3bstroke:%23aaaa33%3bstroke-width:1px%3b%7d%23mermaid-0 .cluster text%7bfill:%23333%3b%7d%23mermaid-0 .cluster span%7bcolor:%23333%3b%7d%23mermaid-0 div.mermaidTooltip%7bposition:absolute%3btext-align:center%3bmax-width:200px%3bpadding:2px%3bfont-family:arial%2csans-serif%3bfont-size:12px%3bbackground:hsl(80%2c 100%25%2c 96.2745098039%25)%3bborder:1px solid %23aaaa33%3bborder-radius:2px%3bpointer-events:none%3bz-index:100%3b%7d%23mermaid-0 .flowchartTitleText%7btext-anchor:middle%3bfont-size:18px%3bfill:%23333%3b%7d%23mermaid-0 rect.text%7bfill:none%3bstroke-width:0%3b%7d%23mermaid-0 .icon-shape%2c%23mermaid-0 .image-shape%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3btext-align:center%3b%7d%23mermaid-0 .icon-shape p%2c%23mermaid-0 .image-shape p%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bpadding:2px%3b%7d%23mermaid-0 .icon-shape rect%2c%23mermaid-0 .image-shape rect%7bopacity:0.5%3bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bfill:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-0 .label-icon%7bdisplay:inline-block%3bheight:1em%3boverflow:visible%3bvertical-align:-0.125em%3b%7d%23mermaid-0 .node .label-icon path%7bfill:currentColor%3bstroke:revert%3bstroke-width:revert%3b%7d%23mermaid-0 :root%7b--mermaid-font-family:arial%2csans-serif%3b%7d%3c/style%3e%3cg%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;8&#x27; markerWidth=&#x27;8&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5&#x27; refX=&#x27;5&#x27; viewBox=&#x27;0 0 10 10&#x27; class=&#x27;marker flowchart-v2&#x27; id=&#x27;mermaid-0_flowchart-v2-pointEnd&#x27;%3e%3cpath style=&#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; d=&#x27;M 0 0 L 10 5 L 0 10 z&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;8&#x27; markerWidth=&#x27;8&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5&#x27; refX=&#x27;4.5&#x27; viewBox=&#x27;0 0 10 10&#x27; class=&#x27;marker flowchart-v2&#x27; id=&#x27;mermaid-0_flowchart-v2-pointStart&#x27;%3e%3cpath style=&#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; d=&#x27;M 0 5 L 10 10 L 10 0 z&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;11&#x27; markerWidth=&#x27;11&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5&#x27; refX=&#x27;11&#x27; viewBox=&#x27;0 0 10 10&#x27; class=&#x27;marker flowchart-v2&#x27; id=&#x27;mermaid-0_flowchart-v2-circleEnd&#x27;%3e%3ccircle style=&#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; r=&#x27;5&#x27; cy=&#x27;5&#x27; cx=&#x27;5&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;11&#x27; markerWidth=&#x27;11&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5&#x27; refX=&#x27;-1&#x27; viewBox=&#x27;0 0 10 10&#x27; class=&#x27;marker flowchart-v2&#x27; id=&#x27;mermaid-0_flowchart-v2-circleStart&#x27;%3e%3ccircle style=&#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; r=&#x27;5&#x27; cy=&#x27;5&#x27; cx=&#x27;5&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;11&#x27; markerWidth=&#x27;11&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5.2&#x27; refX=&#x27;12&#x27; viewBox=&#x27;0 0 11 11&#x27; class=&#x27;marker cross flowchart-v2&#x27; id=&#x27;mermaid-0_flowchart-v2-crossEnd&#x27;%3e%3cpath style=&#x27;stroke-width: 2%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; d=&#x27;M 1%2c1 l 9%2c9 M 10%2c1 l -9%2c9&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;11&#x27; markerWidth=&#x27;11&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5.2&#x27; refX=&#x27;-1&#x27; viewBox=&#x27;0 0 11 11&#x27; class=&#x27;marker cross flowchart-v2&#x27; id=&#x27;mermaid-0_flowchart-v2-crossStart&#x27;%3e%3cpath style=&#x27;stroke-width: 2%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; d=&#x27;M 1%2c1 l 9%2c9 M 10%2c1 l -9%2c9&#x27;/%3e%3c/marker%3e%3cg class=&#x27;root&#x27;%3e%3cg class=&#x27;clusters&#x27;/%3e%3cg class=&#x27;edgePaths&#x27;%3e%3cpath marker-end=&#x27;url(%23mermaid-0_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_wget_hasi_0&#x27; d=&#x27;M180.052%2c62L175.276%2c68.167C170.501%2c74.333%2c160.95%2c86.667%2c156.174%2c100.333C151.398%2c114%2c151.398%2c129%2c151.398%2c136.5L151.398%2c144&#x27;/%3e%3cpath marker-end=&#x27;url(%23mermaid-0_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_wget_key_0&#x27; d=&#x27;M247.859%2c58.71L261.141%2c65.425C274.423%2c72.14%2c300.987%2c85.57%2c322.071%2c99.984C343.156%2c114.397%2c358.761%2c129.794%2c366.563%2c137.492L374.366%2c145.191&#x27;/%3e%3cpath marker-end=&#x27;url(%23mermaid-0_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_gpg_key_0&#x27; d=&#x27;M567.492%2c57.471L554.139%2c64.393C540.786%2c71.314%2c514.081%2c85.157%2c492.322%2c99.794C470.563%2c114.432%2c453.751%2c129.863%2c445.345%2c137.579L436.94%2c145.295&#x27;/%3e%3cpath marker-end=&#x27;url(%23mermaid-0_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_gpg_keyrings_0&#x27; d=&#x27;M628.002%2c62L631.921%2c68.167C635.84%2c74.333%2c643.678%2c86.667%2c647.597%2c98.333C651.516%2c110%2c651.516%2c121%2c651.516%2c126.5L651.516%2c132&#x27;/%3e%3c/g%3e%3cg class=&#x27;edgeLabels&#x27;%3e%3cg transform=&#x27;translate(151.3984375%2c 99)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-48.453125%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;96.90625&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e1.GPG%e3%82%ad%e3%83%bc%e5%8f%96%e5%be%97%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(318.8359%2c 94.59402)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-30.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;61.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e2.%e6%a8%99%e6%ba%96%e5%87%ba%e5%8a%9b%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(495.26739%2c 94.90898)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-42.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;85.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e3.%e3%83%90%e3%82%a4%e3%83%8a%e3%83%aa%e5%a4%89%e6%8f%9b%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(651.515625%2c 99)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-18.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;37.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e4.%e4%bf%9d%e5%ad%98%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg class=&#x27;nodes&#x27;%3e%3cg transform=&#x27;translate(200.9609375%2c 35)&#x27; id=&#x27;flowchart-wget-0&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;54&#x27; width=&#x27;93.796875&#x27; y=&#x27;-27&#x27; x=&#x27;-46.8984375&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-16.8984375%2c -12)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;33.796875&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3ewget%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(151.3984375%2c 175)&#x27; id=&#x27;flowchart-hasi-1&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;54&#x27; width=&#x27;286.796875&#x27; y=&#x27;-27&#x27; x=&#x27;-143.3984375&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-113.3984375%2c -12)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;226.796875&#x27;%3e%3cdiv style=&#x27;display: table%3b white-space: break-spaces%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b width: 200px%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3eapt.releases.hashicorp.com/gpg%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(404.578125%2c 175)&#x27; id=&#x27;flowchart-key-2&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;54&#x27; width=&#x27;119.5625&#x27; y=&#x27;-27&#x27; x=&#x27;-59.78125&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-29.78125%2c -12)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;59.5625&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3eGPG%e3%82%ad%e3%83%bc%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(610.84375%2c 35)&#x27; id=&#x27;flowchart-gpg-3&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;54&#x27; width=&#x27;86.703125&#x27; y=&#x27;-27&#x27; x=&#x27;-43.3515625&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-13.3515625%2c -12)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;26.703125&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3egpg%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(651.515625%2c 175)&#x27; id=&#x27;flowchart-keyrings-4&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;78&#x27; width=&#x27;274.3125&#x27; y=&#x27;-39&#x27; x=&#x27;-137.15625&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-107.15625%2c -24)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;48&#x27; width=&#x27;214.3125&#x27;%3e%3cdiv style=&#x27;display: table%3b white-space: break-spaces%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b width: 200px%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3e/usr/share/keyrings/hashicorp-archive-keyring.gpg%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e" width="796.671875">
<h3 id="2つ目のパイプライン">2つ目のパイプライン</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "deb [arch=$(</span><span style="color:#B392F0">dpkg</span><span style="color:#79B8FF"> --print-architecture</span><span style="color:#9ECBFF">) signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(</span><span style="color:#B392F0">grep</span><span style="color:#79B8FF"> -oP</span><span style="color:#9ECBFF"> '(?&#x3C;=UBUNTU_CODENAME=).*' /etc/os-release </span><span style="color:#F97583">||</span><span style="color:#B392F0"> lsb_release</span><span style="color:#79B8FF"> -cs</span><span style="color:#9ECBFF">) main"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> sudo</span><span style="color:#9ECBFF"> tee</span><span style="color:#9ECBFF"> /etc/apt/sources.list.d/hashicorp.list</span></span></code></pre>
<p>このパイプラインでは、aptパッケージマネージャが参照する追加のパッケージソース設定を作成している。</p>
<p>一般的な形式は以下</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>deb [options] uri suite [component1] [component2] [...]</span></span></code></pre>
<ul>
<li>deb: バイナリパッケージ</li>
<li>[options]: <code>arch=</code>, <code>signed-by=</code> 等のオプション</li>
<li>uri: リポジトリのURL</li>
<li>suite: ディストリビューション名</li>
<li>component: main, contrib, non-free等のセクション</li>
</ul>
<p>詳細は <code>man 5 sources.list</code> で確認可能。</p>
<p>上記の形式を作るために <code>echo</code> を使っている。</p>
<p>2つ目のパイプラインを図に表すと以下。</p>
<img alt="" height="222" id="mermaid-1" src="data:image/svg+xml,%3csvg aria-roledescription=&#x27;flowchart-v2&#x27; role=&#x27;graphics-document document&#x27; viewBox=&#x27;0 0 1046.765625 222&#x27; style=&#x27;max-width: 1046.765625px%3b&#x27; class=&#x27;flowchart&#x27; xmlns:xlink=&#x27;http://www.w3.org/1999/xlink&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; width=&#x27;100%25&#x27; id=&#x27;mermaid-1&#x27;%3e%3cstyle%3e%23mermaid-1%7bfont-family:arial%2csans-serif%3bfont-size:16px%3bfill:%23333%3b%7d%40keyframes edge-animation-frame%7bfrom%7bstroke-dashoffset:0%3b%7d%7d%40keyframes dash%7bto%7bstroke-dashoffset:0%3b%7d%7d%23mermaid-1 .edge-animation-slow%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 50s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-1 .edge-animation-fast%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 20s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-1 .error-icon%7bfill:%23552222%3b%7d%23mermaid-1 .error-text%7bfill:%23552222%3bstroke:%23552222%3b%7d%23mermaid-1 .edge-thickness-normal%7bstroke-width:1px%3b%7d%23mermaid-1 .edge-thickness-thick%7bstroke-width:3.5px%3b%7d%23mermaid-1 .edge-pattern-solid%7bstroke-dasharray:0%3b%7d%23mermaid-1 .edge-thickness-invisible%7bstroke-width:0%3bfill:none%3b%7d%23mermaid-1 .edge-pattern-dashed%7bstroke-dasharray:3%3b%7d%23mermaid-1 .edge-pattern-dotted%7bstroke-dasharray:2%3b%7d%23mermaid-1 .marker%7bfill:%23333333%3bstroke:%23333333%3b%7d%23mermaid-1 .marker.cross%7bstroke:%23333333%3b%7d%23mermaid-1 svg%7bfont-family:arial%2csans-serif%3bfont-size:16px%3b%7d%23mermaid-1 p%7bmargin:0%3b%7d%23mermaid-1 .label%7bfont-family:arial%2csans-serif%3bcolor:%23333%3b%7d%23mermaid-1 .cluster-label text%7bfill:%23333%3b%7d%23mermaid-1 .cluster-label span%7bcolor:%23333%3b%7d%23mermaid-1 .cluster-label span p%7bbackground-color:transparent%3b%7d%23mermaid-1 .label text%2c%23mermaid-1 span%7bfill:%23333%3bcolor:%23333%3b%7d%23mermaid-1 .node rect%2c%23mermaid-1 .node circle%2c%23mermaid-1 .node ellipse%2c%23mermaid-1 .node polygon%2c%23mermaid-1 .node path%7bfill:%23ECECFF%3bstroke:%239370DB%3bstroke-width:1px%3b%7d%23mermaid-1 .rough-node .label text%2c%23mermaid-1 .node .label text%2c%23mermaid-1 .image-shape .label%2c%23mermaid-1 .icon-shape .label%7btext-anchor:middle%3b%7d%23mermaid-1 .node .katex path%7bfill:black%3bstroke:black%3bstroke-width:1px%3b%7d%23mermaid-1 .rough-node .label%2c%23mermaid-1 .node .label%2c%23mermaid-1 .image-shape .label%2c%23mermaid-1 .icon-shape .label%7btext-align:center%3b%7d%23mermaid-1 .node.clickable%7bcursor:pointer%3b%7d%23mermaid-1 .root .anchor path%7bfill:%23333333!important%3bstroke-width:0%3bstroke:%23333333%3b%7d%23mermaid-1 .arrowheadPath%7bfill:%23333333%3b%7d%23mermaid-1 .edgePath .path%7bstroke:%23333333%3bstroke-width:2.0px%3b%7d%23mermaid-1 .flowchart-link%7bstroke:%23333333%3bfill:none%3b%7d%23mermaid-1 .edgeLabel%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3btext-align:center%3b%7d%23mermaid-1 .edgeLabel p%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-1 .edgeLabel rect%7bopacity:0.5%3bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bfill:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-1 .labelBkg%7bbackground-color:rgba(232%2c 232%2c 232%2c 0.5)%3b%7d%23mermaid-1 .cluster rect%7bfill:%23ffffde%3bstroke:%23aaaa33%3bstroke-width:1px%3b%7d%23mermaid-1 .cluster text%7bfill:%23333%3b%7d%23mermaid-1 .cluster span%7bcolor:%23333%3b%7d%23mermaid-1 div.mermaidTooltip%7bposition:absolute%3btext-align:center%3bmax-width:200px%3bpadding:2px%3bfont-family:arial%2csans-serif%3bfont-size:12px%3bbackground:hsl(80%2c 100%25%2c 96.2745098039%25)%3bborder:1px solid %23aaaa33%3bborder-radius:2px%3bpointer-events:none%3bz-index:100%3b%7d%23mermaid-1 .flowchartTitleText%7btext-anchor:middle%3bfont-size:18px%3bfill:%23333%3b%7d%23mermaid-1 rect.text%7bfill:none%3bstroke-width:0%3b%7d%23mermaid-1 .icon-shape%2c%23mermaid-1 .image-shape%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3btext-align:center%3b%7d%23mermaid-1 .icon-shape p%2c%23mermaid-1 .image-shape p%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bpadding:2px%3b%7d%23mermaid-1 .icon-shape rect%2c%23mermaid-1 .image-shape rect%7bopacity:0.5%3bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bfill:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-1 .label-icon%7bdisplay:inline-block%3bheight:1em%3boverflow:visible%3bvertical-align:-0.125em%3b%7d%23mermaid-1 .node .label-icon path%7bfill:currentColor%3bstroke:revert%3bstroke-width:revert%3b%7d%23mermaid-1 :root%7b--mermaid-font-family:arial%2csans-serif%3b%7d%3c/style%3e%3cg%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;8&#x27; markerWidth=&#x27;8&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5&#x27; refX=&#x27;5&#x27; viewBox=&#x27;0 0 10 10&#x27; class=&#x27;marker flowchart-v2&#x27; id=&#x27;mermaid-1_flowchart-v2-pointEnd&#x27;%3e%3cpath style=&#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; d=&#x27;M 0 0 L 10 5 L 0 10 z&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;8&#x27; markerWidth=&#x27;8&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5&#x27; refX=&#x27;4.5&#x27; viewBox=&#x27;0 0 10 10&#x27; class=&#x27;marker flowchart-v2&#x27; id=&#x27;mermaid-1_flowchart-v2-pointStart&#x27;%3e%3cpath style=&#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; d=&#x27;M 0 5 L 10 10 L 10 0 z&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;11&#x27; markerWidth=&#x27;11&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5&#x27; refX=&#x27;11&#x27; viewBox=&#x27;0 0 10 10&#x27; class=&#x27;marker flowchart-v2&#x27; id=&#x27;mermaid-1_flowchart-v2-circleEnd&#x27;%3e%3ccircle style=&#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; r=&#x27;5&#x27; cy=&#x27;5&#x27; cx=&#x27;5&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;11&#x27; markerWidth=&#x27;11&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5&#x27; refX=&#x27;-1&#x27; viewBox=&#x27;0 0 10 10&#x27; class=&#x27;marker flowchart-v2&#x27; id=&#x27;mermaid-1_flowchart-v2-circleStart&#x27;%3e%3ccircle style=&#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; r=&#x27;5&#x27; cy=&#x27;5&#x27; cx=&#x27;5&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;11&#x27; markerWidth=&#x27;11&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5.2&#x27; refX=&#x27;12&#x27; viewBox=&#x27;0 0 11 11&#x27; class=&#x27;marker cross flowchart-v2&#x27; id=&#x27;mermaid-1_flowchart-v2-crossEnd&#x27;%3e%3cpath style=&#x27;stroke-width: 2%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; d=&#x27;M 1%2c1 l 9%2c9 M 10%2c1 l -9%2c9&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;11&#x27; markerWidth=&#x27;11&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5.2&#x27; refX=&#x27;-1&#x27; viewBox=&#x27;0 0 11 11&#x27; class=&#x27;marker cross flowchart-v2&#x27; id=&#x27;mermaid-1_flowchart-v2-crossStart&#x27;%3e%3cpath style=&#x27;stroke-width: 2%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; d=&#x27;M 1%2c1 l 9%2c9 M 10%2c1 l -9%2c9&#x27;/%3e%3c/marker%3e%3cg class=&#x27;root&#x27;%3e%3cg class=&#x27;clusters&#x27;/%3e%3cg class=&#x27;edgePaths&#x27;%3e%3cpath marker-end=&#x27;url(%23mermaid-1_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_echo_keyrings_0&#x27; d=&#x27;M338.313%2c47.6L306.12%2c56.167C273.927%2c64.734%2c209.542%2c81.867%2c177.349%2c95.933C145.156%2c110%2c145.156%2c121%2c145.156%2c126.5L145.156%2c132&#x27;/%3e%3cpath marker-end=&#x27;url(%23mermaid-1_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_echo_dpkg_0&#x27; d=&#x27;M385.664%2c62L385.664%2c68.167C385.664%2c74.333%2c385.664%2c86.667%2c385.664%2c100.333C385.664%2c114%2c385.664%2c129%2c385.664%2c136.5L385.664%2c144&#x27;/%3e%3cpath marker-end=&#x27;url(%23mermaid-1_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_echo_record_0&#x27; d=&#x27;M433.016%2c57.572L447.5%2c64.477C461.984%2c71.381%2c490.953%2c85.191%2c511.98%2c99.755C533.007%2c114.319%2c546.092%2c129.639%2c552.634%2c137.299L559.176%2c144.958&#x27;/%3e%3cpath marker-end=&#x27;url(%23mermaid-1_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_tee_record_0&#x27; d=&#x27;M814.914%2c52.554L796.779%2c60.295C778.643%2c68.036%2c742.372%2c83.518%2c711.771%2c99.072C681.17%2c114.625%2c656.238%2c130.251%2c643.772%2c138.063L631.307%2c145.876&#x27;/%3e%3cpath marker-end=&#x27;url(%23mermaid-1_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_tee_list_0&#x27; d=&#x27;M868.135%2c62L870.898%2c68.167C873.66%2c74.333%2c879.186%2c86.667%2c881.948%2c100.333C884.711%2c114%2c884.711%2c129%2c884.711%2c136.5L884.711%2c144&#x27;/%3e%3c/g%3e%3cg class=&#x27;edgeLabels&#x27;%3e%3cg transform=&#x27;translate(145.15625%2c 99)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-18.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;37.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e1.%e5%88%a9%e7%94%a8%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(385.6640625%2c 99)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-18.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;37.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e1.%e5%88%a9%e7%94%a8%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(505.55363%2c 92.15073)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-30.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;61.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e2.%e6%a8%99%e6%ba%96%e5%87%ba%e5%8a%9b%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(706.1015625%2c 99)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-18.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;37.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e3.%e5%88%a9%e7%94%a8%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(884.7109375%2c 99)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-18.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;37.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e4.%e5%87%ba%e5%8a%9b%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg class=&#x27;nodes&#x27;%3e%3cg transform=&#x27;translate(385.6640625%2c 35)&#x27; id=&#x27;flowchart-echo-0&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;54&#x27; width=&#x27;94.703125&#x27; y=&#x27;-27&#x27; x=&#x27;-47.3515625&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-17.3515625%2c -12)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;34.703125&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3eecho%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(856.0390625%2c 35)&#x27; id=&#x27;flowchart-tee-1&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;54&#x27; width=&#x27;82.25&#x27; y=&#x27;-27&#x27; x=&#x27;-41.125&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-11.125%2c -12)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;22.25&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3etee%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(145.15625%2c 175)&#x27; id=&#x27;flowchart-keyrings-2&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;78&#x27; width=&#x27;274.3125&#x27; y=&#x27;-39&#x27; x=&#x27;-137.15625&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-107.15625%2c -24)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;48&#x27; width=&#x27;214.3125&#x27;%3e%3cdiv style=&#x27;display: table%3b white-space: break-spaces%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b width: 200px%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3e/usr/share/keyrings/hashicorp-archive-keyring.gpg%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(884.7109375%2c 175)&#x27; id=&#x27;flowchart-list-3&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;54&#x27; width=&#x27;308.109375&#x27; y=&#x27;-27&#x27; x=&#x27;-154.0546875&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-124.0546875%2c -12)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;248.109375&#x27;%3e%3cdiv style=&#x27;display: table%3b white-space: break-spaces%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b width: 200px%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3e/etc/apt/sources.list.d/hashicorp.list%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(385.6640625%2c 175)&#x27; id=&#x27;flowchart-dpkg-4&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;54&#x27; width=&#x27;106.703125&#x27; y=&#x27;-27&#x27; x=&#x27;-53.3515625&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-23.3515625%2c -12)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;46.703125&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3edpkg%e7%ad%89%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(584.8359375%2c 175)&#x27; id=&#x27;flowchart-record-5&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;54&#x27; width=&#x27;191.640625&#x27; y=&#x27;-27&#x27; x=&#x27;-95.8203125&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-65.8203125%2c -12)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;131.640625&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3edeb %5boptions%5d uri ...%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e" width="1046.765625">
<h3 id="3つ目のパイプライン">3つ目のパイプライン</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt</span><span style="color:#9ECBFF"> update</span><span style="color:#E1E4E8"> &#x26;&#x26; </span><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> terraform</span></span></code></pre>
<p>パッケージをアップデートして terraform をインストールしている…だけだと味気ないので深掘り。</p>
<p>アップデートをする際、前のパイプラインで追加した <code>hashicorp.list</code> を見てパッケージ情報の入ったInReleaseファイルを取得する。
この中にはパッケージリストのハッシュ値とその署名が含まれているので、それをGPGキーで検証することで、情報が改竄されていないことを確認する。</p>
<p>インストール時も実際のパッケージファイルに対して同様の検証を行っている模様。</p>
<p>図にすると以下。</p>
<img alt="" height="222" id="mermaid-2" src="data:image/svg+xml,%3csvg aria-roledescription=&#x27;flowchart-v2&#x27; role=&#x27;graphics-document document&#x27; viewBox=&#x27;0 0 652 222&#x27; style=&#x27;max-width: 652px%3b&#x27; class=&#x27;flowchart&#x27; xmlns:xlink=&#x27;http://www.w3.org/1999/xlink&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; width=&#x27;100%25&#x27; id=&#x27;mermaid-2&#x27;%3e%3cstyle%3e%23mermaid-2%7bfont-family:arial%2csans-serif%3bfont-size:16px%3bfill:%23333%3b%7d%40keyframes edge-animation-frame%7bfrom%7bstroke-dashoffset:0%3b%7d%7d%40keyframes dash%7bto%7bstroke-dashoffset:0%3b%7d%7d%23mermaid-2 .edge-animation-slow%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 50s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-2 .edge-animation-fast%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 20s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-2 .error-icon%7bfill:%23552222%3b%7d%23mermaid-2 .error-text%7bfill:%23552222%3bstroke:%23552222%3b%7d%23mermaid-2 .edge-thickness-normal%7bstroke-width:1px%3b%7d%23mermaid-2 .edge-thickness-thick%7bstroke-width:3.5px%3b%7d%23mermaid-2 .edge-pattern-solid%7bstroke-dasharray:0%3b%7d%23mermaid-2 .edge-thickness-invisible%7bstroke-width:0%3bfill:none%3b%7d%23mermaid-2 .edge-pattern-dashed%7bstroke-dasharray:3%3b%7d%23mermaid-2 .edge-pattern-dotted%7bstroke-dasharray:2%3b%7d%23mermaid-2 .marker%7bfill:%23333333%3bstroke:%23333333%3b%7d%23mermaid-2 .marker.cross%7bstroke:%23333333%3b%7d%23mermaid-2 svg%7bfont-family:arial%2csans-serif%3bfont-size:16px%3b%7d%23mermaid-2 p%7bmargin:0%3b%7d%23mermaid-2 .label%7bfont-family:arial%2csans-serif%3bcolor:%23333%3b%7d%23mermaid-2 .cluster-label text%7bfill:%23333%3b%7d%23mermaid-2 .cluster-label span%7bcolor:%23333%3b%7d%23mermaid-2 .cluster-label span p%7bbackground-color:transparent%3b%7d%23mermaid-2 .label text%2c%23mermaid-2 span%7bfill:%23333%3bcolor:%23333%3b%7d%23mermaid-2 .node rect%2c%23mermaid-2 .node circle%2c%23mermaid-2 .node ellipse%2c%23mermaid-2 .node polygon%2c%23mermaid-2 .node path%7bfill:%23ECECFF%3bstroke:%239370DB%3bstroke-width:1px%3b%7d%23mermaid-2 .rough-node .label text%2c%23mermaid-2 .node .label text%2c%23mermaid-2 .image-shape .label%2c%23mermaid-2 .icon-shape .label%7btext-anchor:middle%3b%7d%23mermaid-2 .node .katex path%7bfill:black%3bstroke:black%3bstroke-width:1px%3b%7d%23mermaid-2 .rough-node .label%2c%23mermaid-2 .node .label%2c%23mermaid-2 .image-shape .label%2c%23mermaid-2 .icon-shape .label%7btext-align:center%3b%7d%23mermaid-2 .node.clickable%7bcursor:pointer%3b%7d%23mermaid-2 .root .anchor path%7bfill:%23333333!important%3bstroke-width:0%3bstroke:%23333333%3b%7d%23mermaid-2 .arrowheadPath%7bfill:%23333333%3b%7d%23mermaid-2 .edgePath .path%7bstroke:%23333333%3bstroke-width:2.0px%3b%7d%23mermaid-2 .flowchart-link%7bstroke:%23333333%3bfill:none%3b%7d%23mermaid-2 .edgeLabel%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3btext-align:center%3b%7d%23mermaid-2 .edgeLabel p%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-2 .edgeLabel rect%7bopacity:0.5%3bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bfill:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-2 .labelBkg%7bbackground-color:rgba(232%2c 232%2c 232%2c 0.5)%3b%7d%23mermaid-2 .cluster rect%7bfill:%23ffffde%3bstroke:%23aaaa33%3bstroke-width:1px%3b%7d%23mermaid-2 .cluster text%7bfill:%23333%3b%7d%23mermaid-2 .cluster span%7bcolor:%23333%3b%7d%23mermaid-2 div.mermaidTooltip%7bposition:absolute%3btext-align:center%3bmax-width:200px%3bpadding:2px%3bfont-family:arial%2csans-serif%3bfont-size:12px%3bbackground:hsl(80%2c 100%25%2c 96.2745098039%25)%3bborder:1px solid %23aaaa33%3bborder-radius:2px%3bpointer-events:none%3bz-index:100%3b%7d%23mermaid-2 .flowchartTitleText%7btext-anchor:middle%3bfont-size:18px%3bfill:%23333%3b%7d%23mermaid-2 rect.text%7bfill:none%3bstroke-width:0%3b%7d%23mermaid-2 .icon-shape%2c%23mermaid-2 .image-shape%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3btext-align:center%3b%7d%23mermaid-2 .icon-shape p%2c%23mermaid-2 .image-shape p%7bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bpadding:2px%3b%7d%23mermaid-2 .icon-shape rect%2c%23mermaid-2 .image-shape rect%7bopacity:0.5%3bbackground-color:rgba(232%2c232%2c232%2c 0.8)%3bfill:rgba(232%2c232%2c232%2c 0.8)%3b%7d%23mermaid-2 .label-icon%7bdisplay:inline-block%3bheight:1em%3boverflow:visible%3bvertical-align:-0.125em%3b%7d%23mermaid-2 .node .label-icon path%7bfill:currentColor%3bstroke:revert%3bstroke-width:revert%3b%7d%23mermaid-2 :root%7b--mermaid-font-family:arial%2csans-serif%3b%7d%3c/style%3e%3cg%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;8&#x27; markerWidth=&#x27;8&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5&#x27; refX=&#x27;5&#x27; viewBox=&#x27;0 0 10 10&#x27; class=&#x27;marker flowchart-v2&#x27; id=&#x27;mermaid-2_flowchart-v2-pointEnd&#x27;%3e%3cpath style=&#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; d=&#x27;M 0 0 L 10 5 L 0 10 z&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;8&#x27; markerWidth=&#x27;8&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5&#x27; refX=&#x27;4.5&#x27; viewBox=&#x27;0 0 10 10&#x27; class=&#x27;marker flowchart-v2&#x27; id=&#x27;mermaid-2_flowchart-v2-pointStart&#x27;%3e%3cpath style=&#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; d=&#x27;M 0 5 L 10 10 L 10 0 z&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;11&#x27; markerWidth=&#x27;11&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5&#x27; refX=&#x27;11&#x27; viewBox=&#x27;0 0 10 10&#x27; class=&#x27;marker flowchart-v2&#x27; id=&#x27;mermaid-2_flowchart-v2-circleEnd&#x27;%3e%3ccircle style=&#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; r=&#x27;5&#x27; cy=&#x27;5&#x27; cx=&#x27;5&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;11&#x27; markerWidth=&#x27;11&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5&#x27; refX=&#x27;-1&#x27; viewBox=&#x27;0 0 10 10&#x27; class=&#x27;marker flowchart-v2&#x27; id=&#x27;mermaid-2_flowchart-v2-circleStart&#x27;%3e%3ccircle style=&#x27;stroke-width: 1%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; r=&#x27;5&#x27; cy=&#x27;5&#x27; cx=&#x27;5&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;11&#x27; markerWidth=&#x27;11&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5.2&#x27; refX=&#x27;12&#x27; viewBox=&#x27;0 0 11 11&#x27; class=&#x27;marker cross flowchart-v2&#x27; id=&#x27;mermaid-2_flowchart-v2-crossEnd&#x27;%3e%3cpath style=&#x27;stroke-width: 2%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; d=&#x27;M 1%2c1 l 9%2c9 M 10%2c1 l -9%2c9&#x27;/%3e%3c/marker%3e%3cmarker orient=&#x27;auto&#x27; markerHeight=&#x27;11&#x27; markerWidth=&#x27;11&#x27; markerUnits=&#x27;userSpaceOnUse&#x27; refY=&#x27;5.2&#x27; refX=&#x27;-1&#x27; viewBox=&#x27;0 0 11 11&#x27; class=&#x27;marker cross flowchart-v2&#x27; id=&#x27;mermaid-2_flowchart-v2-crossStart&#x27;%3e%3cpath style=&#x27;stroke-width: 2%3b stroke-dasharray: 1%2c 0%3b&#x27; class=&#x27;arrowMarkerPath&#x27; d=&#x27;M 1%2c1 l 9%2c9 M 10%2c1 l -9%2c9&#x27;/%3e%3c/marker%3e%3cg class=&#x27;root&#x27;%3e%3cg class=&#x27;clusters&#x27;/%3e%3cg class=&#x27;edgePaths&#x27;%3e%3cpath marker-end=&#x27;url(%23mermaid-2_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_update_list_0&#x27; d=&#x27;M107.056%2c62L98.768%2c68.167C90.48%2c74.333%2c73.904%2c86.667%2c68.462%2c100.376C63.019%2c114.086%2c68.711%2c129.172%2c71.556%2c136.715L74.402%2c144.257&#x27;/%3e%3cpath marker-end=&#x27;url(%23mermaid-2_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_update_key_0&#x27; d=&#x27;M185.67%2c62L195.337%2c68.167C205.004%2c74.333%2c224.338%2c86.667%2c241.614%2c98.597C258.89%2c110.528%2c274.109%2c122.056%2c281.718%2c127.821L289.327%2c133.585&#x27;/%3e%3cpath marker-end=&#x27;url(%23mermaid-2_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_update_list_2&#x27; d=&#x27;M161.478%2c62L165.62%2c68.167C169.761%2c74.333%2c178.045%2c86.667%2c171.937%2c100.597C165.829%2c114.528%2c145.33%2c130.056%2c135.081%2c137.821L124.831%2c145.585&#x27;/%3e%3cpath marker-end=&#x27;url(%23mermaid-2_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_install_package_0&#x27; d=&#x27;M512.319%2c62L509.045%2c68.167C505.77%2c74.333%2c499.221%2c86.667%2c505.248%2c100.574C511.275%2c114.48%2c529.877%2c129.961%2c539.179%2c137.701L548.48%2c145.441&#x27;/%3e%3cpath marker-end=&#x27;url(%23mermaid-2_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_install_key_0&#x27; d=&#x27;M488.127%2c62L479.327%2c68.167C470.528%2c74.333%2c452.928%2c86.667%2c437.23%2c98.574C421.532%2c110.48%2c407.736%2c121.961%2c400.838%2c127.701L393.94%2c133.441&#x27;/%3e%3cpath marker-end=&#x27;url(%23mermaid-2_flowchart-v2-pointEnd)&#x27; style=&#x27;&#x27; class=&#x27;edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link&#x27; id=&#x27;L_install_package_2&#x27; d=&#x27;M562.944%2c62L571.232%2c68.167C579.52%2c74.333%2c596.096%2c86.667%2c601.538%2c100.376C606.981%2c114.086%2c601.289%2c129.172%2c598.444%2c136.715L595.598%2c144.257&#x27;/%3e%3c/g%3e%3cg class=&#x27;edgeLabels&#x27;%3e%3cg transform=&#x27;translate(57.328125%2c 99)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-18.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;37.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e1.%e5%8f%96%e5%be%97%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(243.671875%2c 99)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-18.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;37.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e2.%e5%88%a9%e7%94%a8%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(171.74947%2c 110.04354)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-18.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;37.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e2.%e6%a4%9c%e8%a8%bc%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(492.671875%2c 99)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-18.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;37.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e3.%e5%8f%96%e5%be%97%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(435.328125%2c 99)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-18.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;37.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e4.%e5%88%a9%e7%94%a8%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(608.81624%2c 96.13121)&#x27; class=&#x27;edgeLabel&#x27;%3e%3cg transform=&#x27;translate(-18.671875%2c -12)&#x27; class=&#x27;label&#x27;%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;37.34375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; class=&#x27;labelBkg&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;edgeLabel&#x27;%3e%3cp%3e4.%e6%a4%9c%e8%a8%bc%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg class=&#x27;nodes&#x27;%3e%3cg transform=&#x27;translate(143.34375%2c 35)&#x27; id=&#x27;flowchart-update-0&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;54&#x27; width=&#x27;135.625&#x27; y=&#x27;-27&#x27; x=&#x27;-67.8125&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-37.8125%2c -12)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;75.625&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3eapt update%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(526.65625%2c 35)&#x27; id=&#x27;flowchart-install-1&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;54&#x27; width=&#x27;196.9375&#x27; y=&#x27;-27&#x27; x=&#x27;-98.46875&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-68.46875%2c -12)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;136.9375&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3eapt install terraform%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(86%2c 175)&#x27; id=&#x27;flowchart-list-2&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;54&#x27; width=&#x27;156&#x27; y=&#x27;-27&#x27; x=&#x27;-78&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-48%2c -12)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;96&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3e%e3%83%91%e3%83%83%e3%82%b1%e3%83%bc%e3%82%b8%e3%83%aa%e3%82%b9%e3%83%88%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(584%2c 175)&#x27; id=&#x27;flowchart-package-3&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;54&#x27; width=&#x27;120&#x27; y=&#x27;-27&#x27; x=&#x27;-60&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-30%2c -12)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;24&#x27; width=&#x27;60&#x27;%3e%3cdiv style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3e%e3%83%91%e3%83%83%e3%82%b1%e3%83%bc%e3%82%b8%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg transform=&#x27;translate(344%2c 175)&#x27; id=&#x27;flowchart-key-4&#x27; class=&#x27;node default&#x27;%3e%3crect height=&#x27;78&#x27; width=&#x27;260&#x27; y=&#x27;-39&#x27; x=&#x27;-130&#x27; style=&#x27;&#x27; class=&#x27;basic label-container&#x27;/%3e%3cg transform=&#x27;translate(-100%2c -24)&#x27; style=&#x27;&#x27; class=&#x27;label&#x27;%3e%3crect/%3e%3cforeignObject height=&#x27;48&#x27; width=&#x27;200&#x27;%3e%3cdiv style=&#x27;display: table%3b white-space: break-spaces%3b line-height: 1.5%3b max-width: 200px%3b text-align: center%3b width: 200px%3b&#x27; xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27;%3e%3cspan class=&#x27;nodeLabel&#x27;%3e%3cp%3ehashicorp-archive-keyring.gpg%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e" width="652">
<h2 id="感想">感想</h2>
<p>パッケージマネージャ周りがよく分かっていないと思い知らされた。
<code>apt update</code>, <code>apt install</code> 周りはまた調べることにする。</p> </div>  </div> </body></html>